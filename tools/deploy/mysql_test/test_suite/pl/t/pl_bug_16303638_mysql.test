--disable_query_log
set @@session.explicit_defaults_for_timestamp=off;
--enable_query_log
#tags: pl
#owner: linlin.xll
#owner group: sql1
#description: test pl create grammer

--result_format 4

--disable_query_log
--disable_result_log
--source mysql_test/include/index_quick_major.inc
--enable_query_log
--enable_result_log

use test;

DROP FUNCTION IF EXISTS BUG16302573;

DELIMITER |;

CREATE FUNCTION BUG16302573(p1 INTEGER) RETURNS INTEGER
LANGUAGE SQL
DETERMINISTIC
RETURN p1|
SELECT BUG16302573(1024)|
DROP FUNCTION BUG16302573|

CREATE FUNCTION BUG16302573() RETURNS INT(11)
NOT DETERMINISTIC
CONTAINS SQL
SQL SECURITY DEFINER
COMMENT ''
BEGIN
  DECLARE x INT(11);
  SET x=-1;
  RETURN x;
END|
SELECT BUG16302573()|
DROP FUNCTION BUG16302573|

CREATE FUNCTION BUG16302573() RETURNS DATETIME
NOT DETERMINISTIC
NO SQL
RETURN NOW()|
DROP FUNCTION BUG16302573|

CREATE PROCEDURE BUG16302573()
LANGUAGE SQL
MODIFIES SQL DATA
NOT DETERMINISTIC
SQL SECURITY DEFINER
COMMENT 'Characteristics procedure test'
BEGIN END|
CALL BUG16302573()|
DROP PROCEDURE BUG16302573|

CREATE FUNCTION BUG16302573(p INT(8)) RETURNS BIGINT(11) UNSIGNED
READS SQL DATA
RETURN FLOOR(p/1000)*1000000 + 100000 + FLOOR((p MOD 1000)/10)*100 + (p MOD 10)|
SELECT BUG16302573(1)|
DROP FUNCTION BUG16302573|

DELIMITER ;|

