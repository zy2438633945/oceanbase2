result_format: 4
================ expression instr ================
select instr('abc', '') from dual;
+------------------+
| instr('abc', '') |
+------------------+
|                1 |
+------------------+
select instr('', '') from dual;
+---------------+
| instr('', '') |
+---------------+
|             1 |
+---------------+
select instr('', 'abc') from dual;
+------------------+
| instr('', 'abc') |
+------------------+
|                0 |
+------------------+
select instr('abc', 'abcd') from dual;
+----------------------+
| instr('abc', 'abcd') |
+----------------------+
|                    0 |
+----------------------+
select instr('abc', 'abc') from dual;
+---------------------+
| instr('abc', 'abc') |
+---------------------+
|                   1 |
+---------------------+
select instr('abc', 'a') from dual;
+-------------------+
| instr('abc', 'a') |
+-------------------+
|                 1 |
+-------------------+
select instr('abc', 'b') from dual;
+-------------------+
| instr('abc', 'b') |
+-------------------+
|                 2 |
+-------------------+
select instr('abc', 'c') from dual;
+-------------------+
| instr('abc', 'c') |
+-------------------+
|                 3 |
+-------------------+
select instr('abc', 'bc') from dual;
+--------------------+
| instr('abc', 'bc') |
+--------------------+
|                  2 |
+--------------------+
select instr('abcbc', 'bc') from dual;
+----------------------+
| instr('abcbc', 'bc') |
+----------------------+
|                    2 |
+----------------------+
select instr('阿里巴巴', '阿里') from dual;
+---------------------------------+
| instr('阿里巴巴', '阿里')       |
+---------------------------------+
|                               1 |
+---------------------------------+
select instr('阿里巴巴', '巴巴') from dual;
+---------------------------------+
| instr('阿里巴巴', '巴巴')       |
+---------------------------------+
|                               3 |
+---------------------------------+
select instr('阿里巴巴巴巴', '巴巴') from dual;
+---------------------------------------+
| instr('阿里巴巴巴巴', '巴巴')         |
+---------------------------------------+
|                                     3 |
+---------------------------------------+
select instr('阿里巴巴', '阿里巴巴') from dual;
+---------------------------------------+
| instr('阿里巴巴', '阿里巴巴')         |
+---------------------------------------+
|                                     1 |
+---------------------------------------+
select instr(123, '23') from dual;
+------------------+
| instr(123, '23') |
+------------------+
|                2 |
+------------------+
select instr('123', 123) from dual;
+-------------------+
| instr('123', 123) |
+-------------------+
|                 1 |
+-------------------+
select instr('123.400000', 23.4) from dual;
+---------------------------+
| instr('123.400000', 23.4) |
+---------------------------+
|                         2 |
+---------------------------+
select instr('123.400000', 123.4) from dual;
+----------------------------+
| instr('123.400000', 123.4) |
+----------------------------+
|                          1 |
+----------------------------+
select instr('123.400000', null) from dual;
+---------------------------+
| instr('123.400000', null) |
+---------------------------+
|                      NULL |
+---------------------------+
select instr(null, '巴巴') from dual;
+-----------------------+
| instr(null, '巴巴')   |
+-----------------------+
|                  NULL |
+-----------------------+
select instr('巴巴', null) from dual;
+-----------------------+
| instr('巴巴', null)   |
+-----------------------+
|                  NULL |
+-----------------------+
select instr(null, null) from dual;
+-------------------+
| instr(null, null) |
+-------------------+
|              NULL |
+-------------------+
select instr('123', true) from dual;
+--------------------+
| instr('123', true) |
+--------------------+
|                  1 |
+--------------------+

select instr(123, 23) from dual;
+----------------+
| instr(123, 23) |
+----------------+
|              2 |
+----------------+
select instr(123, 23456) from dual;
+-------------------+
| instr(123, 23456) |
+-------------------+
|                 0 |
+-------------------+
select instr(123.4, 123) from dual;
+-------------------+
| instr(123.4, 123) |
+-------------------+
|                 1 |
+-------------------+
select instr(1234, 123.4) from dual;
+--------------------+
| instr(1234, 123.4) |
+--------------------+
|                  0 |
+--------------------+
select instr(1234, null) from dual;
+-------------------+
| instr(1234, null) |
+-------------------+
|              NULL |
+-------------------+
select instr(null, 123) from dual;
+------------------+
| instr(null, 123) |
+------------------+
|             NULL |
+------------------+

select instr(123.400000, 123.4) from dual;
+--------------------------+
| instr(123.400000, 123.4) |
+--------------------------+
|                        1 |
+--------------------------+
select instr(123.400000, 123.41) from dual;
+---------------------------+
| instr(123.400000, 123.41) |
+---------------------------+
|                         0 |
+---------------------------+
select instr(123.400000, null) from dual;
+-------------------------+
| instr(123.400000, null) |
+-------------------------+
|                    NULL |
+-------------------------+
select instr(null, 123.41) from dual;
+---------------------+
| instr(null, 123.41) |
+---------------------+
|                NULL |
+---------------------+

drop table if exists test;
create table test(c1 date primary key);
insert into test values('2015-5-5');
select instr(c1, '201') from test;
+------------------+
| instr(c1, '201') |
+------------------+
|                1 |
+------------------+
select instr(c1, '') from test;
+---------------+
| instr(c1, '') |
+---------------+
|             1 |
+---------------+
select instr(c1, 'haha') from test;
+-------------------+
| instr(c1, 'haha') |
+-------------------+
|                 0 |
+-------------------+
select instr(c1, '-5') from test;
+-----------------+
| instr(c1, '-5') |
+-----------------+
|               0 |
+-----------------+
select instr(c1, '2015-5-5') from test;
+-----------------------+
| instr(c1, '2015-5-5') |
+-----------------------+
|                     0 |
+-----------------------+
select instr(c1, 201) from test;
+----------------+
| instr(c1, 201) |
+----------------+
|              1 |
+----------------+
select instr(c1, 201.1) from test;
+------------------+
| instr(c1, 201.1) |
+------------------+
|                0 |
+------------------+
select instr(c1, null) from test;
+-----------------+
| instr(c1, null) |
+-----------------+
|            NULL |
+-----------------+
select instr(null, c1) from test;
+-----------------+
| instr(null, c1) |
+-----------------+
|            NULL |
+-----------------+

select instr() from dual;
ERROR 42000: Incorrect parameter count in the call to native function 'instr'
select instr('abcda') from dual;
ERROR 42000: Incorrect parameter count in the call to native function 'instr'
select instr('abcda', 'a', 1) from dual;
ERROR 42000: Incorrect parameter count in the call to native function 'instr'
select instr('abcda', 'a', 1, 1) from dual;
ERROR 42000: Incorrect parameter count in the call to native function 'instr'

drop table test;
