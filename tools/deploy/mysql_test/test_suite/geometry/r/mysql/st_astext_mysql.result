# ----------------------------------------------------------------------
# Test of ST_AsText/ST_ASWKT/_st_asewkt.
# ----------------------------------------------------------------------
SET @wkt_pt = 'POINT(0 0)';
SET @wkt_ln = 'LINESTRING(0 0,2 2,4 4,6 6,8 8, 10 10)';
SET @wkt_py = 'POLYGON((0 0,0 10,10 10,10 0,0 0),(4 4,4 6,6 6,6 4,4 4))';
SET @wkt_mpt = 'MULTIPOINT(0 0,2 2,4 4,6 6)';
SET @wkt_mln = 'MULTILINESTRING((0 0,2 2,4 4),(6 6,8 8,10 10))';
SET @wkt_mpy = 'MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0),(4 4,4 6,6 6,6 4,4 4)),'
                              '((10 10,10 12,12 12,12 10,10 10)))';
SET @wkt_gc = 'GEOMETRYCOLLECTION('
                    'POINT(0 0),'
                    'LINESTRING(0 0,10 10),'
                    'POLYGON((0 0,0 10,10 10,10 0, 0 0)),'
                    'MULTIPOINT(0 0,2 2,4 4,6 6,8 8,10 10),'
                    'MULTILINESTRING((0 0,10 10),(0 10,10 0)),'
                    'MULTIPOLYGON(((0 0,0 5,5 5,5 0,0 0)),((5 5,5 10,10 10,10 5,5 5))))';
SELECT ST_AsText(ST_GeomFromText(@wkt_pt));
ST_AsText(ST_GeomFromText(@wkt_pt))
POINT(0 0)
SELECT ST_AsText(ST_GeomFromText(@wkt_ln));
ST_AsText(ST_GeomFromText(@wkt_ln))
LINESTRING(0 0,2 2,4 4,6 6,8 8,10 10)
SELECT ST_AsText(ST_GeomFromText(@wkt_py));
ST_AsText(ST_GeomFromText(@wkt_py))
POLYGON((0 0,0 10,10 10,10 0,0 0),(4 4,4 6,6 6,6 4,4 4))
SELECT ST_AsText(ST_GeomFromText(@wkt_mpt));
ST_AsText(ST_GeomFromText(@wkt_mpt))
MULTIPOINT((0 0),(2 2),(4 4),(6 6))
SELECT ST_AsText(ST_GeomFromText(@wkt_mln));
ST_AsText(ST_GeomFromText(@wkt_mln))
MULTILINESTRING((0 0,2 2,4 4),(6 6,8 8,10 10))
SELECT ST_AsText(ST_GeomFromText(@wkt_mpy));
ST_AsText(ST_GeomFromText(@wkt_mpy))
MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0),(4 4,4 6,6 6,6 4,4 4)),((10 10,10 12,12 12,12 10,10 10)))
SELECT ST_AsText(ST_GeomFromText(@wkt_gc));
ST_AsText(ST_GeomFromText(@wkt_gc))
GEOMETRYCOLLECTION(POINT(0 0),LINESTRING(0 0,10 10),POLYGON((0 0,0 10,10 10,10 0,0 0)),MULTIPOINT((0 0),(2 2),(4 4),(6 6),(8 8),(10 10)),MULTILINESTRING((0 0,10 10),(0 10,10 0)),MULTIPOLYGON(((0 0,0 5,5 5,5 0,0 0)),((5 5,5 10,10 10,10 5,5 5))))
SELECT ST_ASTEXT(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION EMPTY'));
ST_ASTEXT(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION EMPTY'))
GEOMETRYCOLLECTION EMPTY
SELECT ST_ASTEXT(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION()'));
ST_ASTEXT(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION()'))
GEOMETRYCOLLECTION EMPTY
SELECT ST_ASTEXT(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION()', 4326));
ST_ASTEXT(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION()', 4326))
GEOMETRYCOLLECTION EMPTY
SELECT ST_ASTEXT(ST_GEOMFROMTEXT(' GEOMETRYCOLLECTION  EMPTY '));
ST_ASTEXT(ST_GEOMFROMTEXT(' GEOMETRYCOLLECTION  EMPTY '))
GEOMETRYCOLLECTION EMPTY
SELECT ST_ASTEXT(ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION(
       GEOMETRYCOLLECTION(
         GEOMETRYCOLLECTION EMPTY,
         GEOMETRYCOLLECTION ()
       )
     )'
  ));
ST_ASTEXT(ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION(
       GEOMETRYCOLLECTION(
         GEOMETRYCOLLECTION EMPTY,
         GEOMETRYCOLLECTION ()
       )
     )'
  ))
GEOMETRYCOLLECTION(GEOMETRYCOLLECTION(GEOMETRYCOLLECTION EMPTY,GEOMETRYCOLLECTION EMPTY))
SELECT ST_ASTEXT(ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION(
       GEOMETRYCOLLECTION(
         GEOMETRYCOLLECTION ()
       )
     )'
  ));
ST_ASTEXT(ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION(
       GEOMETRYCOLLECTION(
         GEOMETRYCOLLECTION ()
       )
     )'
  ))
GEOMETRYCOLLECTION(GEOMETRYCOLLECTION(GEOMETRYCOLLECTION EMPTY))
SELECT ST_ASTEXT(ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION(
       GEOMETRYCOLLECTION(
         MULTIPOINT((0 0), (1 1)),
         GEOMETRYCOLLECTION ()
       )
     )'
  ));
ST_ASTEXT(ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION(
       GEOMETRYCOLLECTION(
         MULTIPOINT((0 0), (1 1)),
         GEOMETRYCOLLECTION ()
       )
     )'
  ))
GEOMETRYCOLLECTION(GEOMETRYCOLLECTION(MULTIPOINT((0 0),(1 1)),GEOMETRYCOLLECTION EMPTY))
SELECT ST_ASTEXT(ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION(
       GEOMETRYCOLLECTION(
         MULTIPOINT((0 0), (1 1)),
         GEOMETRYCOLLECTION ()
       ),
       GEOMETRYCOLLECTION(
         MULTIPOINT((0 0), (1 1)),
         GEOMETRYCOLLECTION ()
       )
     )'
  ));
ST_ASTEXT(ST_GEOMFROMTEXT(
'GEOMETRYCOLLECTION(
       GEOMETRYCOLLECTION(
         MULTIPOINT((0 0), (1 1)),
         GEOMETRYCOLLECTION ()
       ),
       GEOMETRYCOLLECTION(
         MULTIPOINT((0 0), (1 1)),
         GEOMETRYCOLLECTION ()
       )
  
GEOMETRYCOLLECTION(GEOMETRYCOLLECTION(MULTIPOINT((0 0),(1 1)),GEOMETRYCOLLECTION EMPTY),GEOMETRYCOLLECTION(MULTIPOINT((0 0),(1 1)),GEOMETRYCOLLECTION EMPTY))
SELECT ST_ASTEXT(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(3 5),
      POLYGON((0 0,10 0,10 10,0 10,0 0)),
      MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0),(4 4,4 6,6 6,6 4, 4 4)),
      ((0 0,-2 -2,0 -2, 0 0))))', 4326,'axis-order=long-lat'));
ST_ASTEXT(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(3 5),
      POLYGON((0 0,10 0,10 10,0 10,0 0)),
      MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0),(4 4,4 6,6 6,6 4, 4 4)),
      ((0 0,-2 -2,0 -2, 0 0))))', 4326,'axis-order=long-lat'))
GEOMETRYCOLLECTION(POINT(5 3),POLYGON((0 0,0 10,10 10,10 0,0 0)),MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0),(4 4,6 4,6 6,4 6,4 4)),((0 0,-2 -2,-2 0,0 0))))
SELECT ST_ASTEXT(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(3 5),
      POLYGON((0 0,0 10,10 10,10 0,0 0)),
      MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0),(4 4,6 4,6 6,4 6, 4 4)),
      ((0 0,-2 -2,-2 0, 0 0))))', 4326,'axis-order=lat-long'));
ST_ASTEXT(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(3 5),
      POLYGON((0 0,0 10,10 10,10 0,0 0)),
      MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0),(4 4,6 4,6 6,4 6, 4 4)),
      ((0 0,-2 -2,-2 0, 0 0))))', 4326,'axis-order=lat-long'))
GEOMETRYCOLLECTION(POINT(3 5),POLYGON((0 0,0 10,10 10,10 0,0 0)),MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0),(4 4,6 4,6 6,4 6,4 4)),((0 0,-2 -2,-2 0,0 0))))
SELECT ST_ASTEXT(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(3 5),
      POLYGON((0 0,0 10,10 10,10 0,0 0)),
      MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0),(4 4,6 4,6 6,4 6, 4 4)),
      ((0 0,-2 -2,-2 0, 0 0))))', 4326,'axis-order=srid-defined'));
ST_ASTEXT(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(3 5),
      POLYGON((0 0,0 10,10 10,10 0,0 0)),
      MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0),(4 4,6 4,6 6,4 6, 4 4)),
      ((0 0,-2 -2,-2 0, 0 0))))', 4326,'axis-order=srid-defined'))
GEOMETRYCOLLECTION(POINT(3 5),POLYGON((0 0,0 10,10 10,10 0,0 0)),MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0),(4 4,6 4,6 6,4 6,4 4)),((0 0,-2 -2,-2 0,0 0))))
SELECT ST_ASTEXT(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(3 5),
      POLYGON((0 0,10 0,10 10,0 10,0 0)),
      MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0),(4 4,4 6,6 6,6 4, 4 4)),
      ((0 0,-2 -2,0 -2, 0 0))))', 4326,'axis-order=srid-defined'));
ST_ASTEXT(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POINT(3 5),
      POLYGON((0 0,10 0,10 10,0 10,0 0)),
      MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0),(4 4,4 6,6 6,6 4, 4 4)),
      ((0 0,-2 -2,0 -2, 0 0))))', 4326,'axis-order=srid-defined'))
GEOMETRYCOLLECTION(POINT(3 5),POLYGON((0 0,10 0,10 10,0 10,0 0)),MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0),(4 4,4 6,6 6,6 4,4 4)),((0 0,-2 -2,0 -2,0 0))))
drop table if exists t;
create table t(g geometry  NOT NULL);
INSERT INTO t (g) VALUES
(ST_GeomFromText('POINT(0 0)')),
(ST_GeomFromText('POINT(1 1)')),
(ST_GeomFromText('POINT(2 2)')),
(ST_GeomFromText('POINT(3 3)')),
(ST_GeomFromText('POINT(4 4)')),
(ST_GeomFromText('POINT(5 5)')),
(ST_GeomFromText('POINT(6 6)')),
(ST_GeomFromText('POINT(7 7)'));
SELECT ST_ASTEXT(g) FROM t;
ST_ASTEXT(g)
POINT(0 0)
POINT(1 1)
POINT(2 2)
POINT(3 3)
POINT(4 4)
POINT(5 5)
POINT(6 6)
POINT(7 7)
drop table t;
select ST_ASTEXT(x'00000000010100000000000000000000000000000000000000');
ST_ASTEXT(x'00000000010100000000000000000000000000000000000000')
POINT(0 0)
select ST_ASTEXT(x'00000000010500000002000000010200000003000000000000000000000000000000000000000000000000000040000000000000004000000000000010400000000000001040010200000003000000000000000000184000000000000018400000000000002040000000000000204000000000000024400000000000002440');
ST_ASTEXT(x'000000000105000000020000000102000000030000000000000000000000000000000000000000000000000000400000000000000040000000000000104000000000000010400102000000030000000000000000001840000000000000184000000000000020400000000000002040000000000000244000000
MULTILINESTRING((0 0,2 2,4 4),(6 6,8 8,10 10))
select ST_ASWKT(x'00000000010100000000000000000000000000000000000000');
ST_ASWKT(x'00000000010100000000000000000000000000000000000000')
POINT(0 0)
select ST_ASWKT(x'00000000010500000002000000010200000003000000000000000000000000000000000000000000000000000040000000000000004000000000000010400000000000001040010200000003000000000000000000184000000000000018400000000000002040000000000000204000000000000024400000000000002440');
ST_ASWKT(x'0000000001050000000200000001020000000300000000000000000000000000000000000000000000000000004000000000000000400000000000001040000000000000104001020000000300000000000000000018400000000000001840000000000000204000000000000020400000000000002440000000
MULTILINESTRING((0 0,2 2,4 4),(6 6,8 8,10 10))
SELECT ST_ASWKT();
ERROR 42000: Incorrect parameter count in the call to native function 'ST_ASWKT'
SELECT ST_ASTEXT(NULL);
ST_ASTEXT(NULL)
NULL
SELECT ST_AsText(ST_GeomFromText(@wkt_pt), NULL);
ST_AsText(ST_GeomFromText(@wkt_pt), NULL)
NULL
SELECT ST_ASTEXT();
ERROR 42000: Incorrect parameter count in the call to native function 'ST_ASTEXT'
SELECT ST_ASTEXT(ST_GeomFromText(@wkt_pt),ST_GeomFromText(@wkt_pt),'axis-order=srid-defin');
ERROR 42000: Incorrect parameter count in the call to native function 'st_astext'
select ST_ASTEXT(ST_GeomFromText('POINT(1 2)',4326), 'axis-order=lat-long');
ST_ASTEXT(ST_GeomFromText('POINT(1 2)',4326), 'axis-order=lat-long')
POINT(1 2)
select ST_ASTEXT(ST_GeomFromText('POINT(1 2)',4326), 'axis-order=long-lat');
ST_ASTEXT(ST_GeomFromText('POINT(1 2)',4326), 'axis-order=long-lat')
POINT(2 1)
set @p=st_geomfromtext('point(10 -10)', 4326);
select st_astext(@p);
st_astext(@p)
POINT(10 -10)
select st_astext(@p);
st_astext(@p)
POINT(10 -10)
select st_astext(@p);
st_astext(@p)
POINT(10 -10)
SELECT ST_ASTEXT(ST_GEOMFROMTEXT('POINT(0 0)'));
ST_ASTEXT(ST_GEOMFROMTEXT('POINT(0 0)'))
POINT(0 0)
SELECT ST_ASTEXT(ST_GEOMFROMTEXT('MULTIPOINT(0 0, 2 0)'));
ST_ASTEXT(ST_GEOMFROMTEXT('MULTIPOINT(0 0, 2 0)'))
MULTIPOINT((0 0),(2 0))
SELECT ST_ASTEXT(ST_GEOMFROMTEXT('MULTIPOINT((0 0), (2 0))'));
ST_ASTEXT(ST_GEOMFROMTEXT('MULTIPOINT((0 0), (2 0))'))
MULTIPOINT((0 0),(2 0))
SELECT ST_ASTEXT(ST_GEOMFROMTEXT('LINESTRING(0 0, 1 1)'));
ST_ASTEXT(ST_GEOMFROMTEXT('LINESTRING(0 0, 1 1)'))
LINESTRING(0 0,1 1)
SELECT ST_ASTEXT(ST_GEOMFROMTEXT('MULTILINESTRING((0 0, 2 0))'));
ST_ASTEXT(ST_GEOMFROMTEXT('MULTILINESTRING((0 0, 2 0))'))
MULTILINESTRING((0 0,2 0))
SELECT ST_ASTEXT(ST_GEOMFROMTEXT('MULTILINESTRING((0 0, 2 0), (1 1, 2 2))'));
ST_ASTEXT(ST_GEOMFROMTEXT('MULTILINESTRING((0 0, 2 0), (1 1, 2 2))'))
MULTILINESTRING((0 0,2 0),(1 1,2 2))
SELECT ST_ASTEXT(ST_GEOMFROMTEXT('POLYGON((0 0,1 0,1 1,0 1,0 0))'));
ST_ASTEXT(ST_GEOMFROMTEXT('POLYGON((0 0,1 0,1 1,0 1,0 0))'))
POLYGON((0 0,1 0,1 1,0 1,0 0))
SELECT ST_ASTEXT(ST_GEOMFROMTEXT('POLYGON((0 0,10 0,10 10,0 10,0 0),(2 2,2 5,5 5,5 2,2 2))'));
ST_ASTEXT(ST_GEOMFROMTEXT('POLYGON((0 0,10 0,10 10,0 10,0 0),(2 2,2 5,5 5,5 2,2 2))'))
POLYGON((0 0,10 0,10 10,0 10,0 0),(2 2,2 5,5 5,5 2,2 2))
SELECT ST_ASTEXT(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0),(2 2,2 5,5 5,5 2,2 2)))'));
ST_ASTEXT(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0),(2 2,2 5,5 5,5 2,2 2)))'))
MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0),(2 2,2 5,5 5,5 2,2 2)))
SELECT ST_ASTEXT(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION EMPTY'));
ST_ASTEXT(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION EMPTY'))
GEOMETRYCOLLECTION EMPTY
SELECT ST_ASTEXT(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0),(2 2,2 5,5 5,5 2,2 2))),POINT(0 0),MULTILINESTRING((0 0, 2 0),(1 1, 2 2)))'));
ST_ASTEXT(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0),(2 2,2 5,5 5,5 2,2 2))),POINT(0 0),MULTILINESTRING((0 0, 2 0),(1 1, 2 2)))'))
GEOMETRYCOLLECTION(MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0),(2 2,2 5,5 5,5 2,2 2))),POINT(0 0),MULTILINESTRING((0 0,2 0),(1 1,2 2)))
SELECT _st_asewkt(ST_GEOMFROMTEXT('POINT(0 0)', 4326));
_st_asewkt(ST_GEOMFROMTEXT('POINT(0 0)', 4326))
SRID=4326;POINT(0 0)
SELECT _st_asewkt(ST_GEOMFROMTEXT('MULTIPOINT(0 0, 2 0)', 4326));
_st_asewkt(ST_GEOMFROMTEXT('MULTIPOINT(0 0, 2 0)', 4326))
SRID=4326;MULTIPOINT((0 0),(0 2))
SELECT _st_asewkt(ST_GEOMFROMTEXT('MULTIPOINT((0 0), (2 0))', 4326));
_st_asewkt(ST_GEOMFROMTEXT('MULTIPOINT((0 0), (2 0))', 4326))
SRID=4326;MULTIPOINT((0 0),(0 2))
SELECT _st_asewkt(ST_GEOMFROMTEXT('LINESTRING(0 0, 1 1)', 4326));
_st_asewkt(ST_GEOMFROMTEXT('LINESTRING(0 0, 1 1)', 4326))
SRID=4326;LINESTRING(0 0,1 1)
SELECT _st_asewkt(ST_GEOMFROMTEXT('MULTILINESTRING((0 0, 2 0))', 4326));
_st_asewkt(ST_GEOMFROMTEXT('MULTILINESTRING((0 0, 2 0))', 4326))
SRID=4326;MULTILINESTRING((0 0,0 2))
SELECT _st_asewkt(ST_GEOMFROMTEXT('MULTILINESTRING((0 0, 2 0), (1 1, 2 2))', 4326));
_st_asewkt(ST_GEOMFROMTEXT('MULTILINESTRING((0 0, 2 0), (1 1, 2 2))', 4326))
SRID=4326;MULTILINESTRING((0 0,0 2),(1 1,2 2))
SELECT _st_asewkt(ST_GEOMFROMTEXT('POLYGON((0 0,1 0,1 1,0 1,0 0))', 4326));
_st_asewkt(ST_GEOMFROMTEXT('POLYGON((0 0,1 0,1 1,0 1,0 0))', 4326))
SRID=4326;POLYGON((0 0,0 1,1 1,1 0,0 0))
SELECT _st_asewkt(ST_GEOMFROMTEXT('POLYGON((0 0,10 0,10 10,0 10,0 0),(2 2,2 5,5 5,5 2,2 2))', 4326));
_st_asewkt(ST_GEOMFROMTEXT('POLYGON((0 0,10 0,10 10,0 10,0 0),(2 2,2 5,5 5,5 2,2 2))', 4326))
SRID=4326;POLYGON((0 0,0 10,10 10,10 0,0 0),(2 2,5 2,5 5,2 5,2 2))
SELECT _st_asewkt(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0),(2 2,2 5,5 5,5 2,2 2)))', 4326));
_st_asewkt(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0),(2 2,2 5,5 5,5 2,2 2)))', 4326))
SRID=4326;MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0),(2 2,5 2,5 5,2 5,2 2)))
SELECT _st_asewkt(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION EMPTY', 4326));
_st_asewkt(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION EMPTY', 4326))
SRID=4326;GEOMETRYCOLLECTION EMPTY
SELECT _st_asewkt(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0),(2 2,2 5,5 5,5 2,2 2))),POINT(0 0),MULTILINESTRING((0 0, 2 0),(1 1, 2 2)))', 4326));
_st_asewkt(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0),(2 2,2 5,5 5,5 2,2 2))),POINT(0 0),MULTILINESTRING((0 0, 2 0),(1 1, 2 2)))', 4326))
SRID=4326;GEOMETRYCOLLECTION(MULTIPOLYGON(((0 0,0 10,10 10,10 0,0 0),(2 2,5 2,5 5,2 5,2 2))),POINT(0 0),MULTILINESTRING((0 0,0 2),(1 1,2 2)))
SELECT _st_asewkt(ST_GEOMFROMTEXT('POINT(25.416666666666666666666666668 -25.416666666666666666666666668)'), 3);
_st_asewkt(ST_GEOMFROMTEXT('POINT(25.416666666666666666666666668 -25.416666666666666666666666668)'), 3)
POINT(25.417 -25.417)
SELECT _st_asewkt(_ST_GeomFromEWKT('SRID=4269;point(0.1234567898765432123456789 -0.12345678998765432123456789)'));
_st_asewkt(_ST_GeomFromEWKT('SRID=4269;point(0.1234567898765432123456789 -0.12345678998765432123456789)'))
SRID=4269;POINT(0.123456789876543 -0.123456789987654)
SELECT _st_asewkt(_ST_GeomFromEWKT('SRID=4269;POLYGON((0 0.000035379323451,0.000006466490655 0.000008682268431,0.000026970365057 0.000024413715792,0.000151654188725 0.000034529750537,0.00006579467362 -0.00010449622015,-0.000025454219399 -0.000110606436693,-0.000062701646319 -0.000019388332115,0 0.000035379323451)) '),20) t;
t
SRID=4269;POLYGON((0 0.000035379323451,0.000006466490655 0.000008682268431,0.000026970365057 0.000024413715792,0.000151654188725 0.000034529750537,0.00006579467362 -0.00010449622015,-0.000025454219399 -0.000110606436693,-0.000062701646319 -0.000019388332115,0 0.000035379323451))
SELECT _st_asewkt(_ST_GeomFromEWKT('SRID=4269;POLYGON((0.123456789876543212345678987654321 0.123456789876543212345678987654321, 0.123456789876543212345678987654321 0.123456789876543212345678987654321,
  0.123456789876543212345678987654321 0.123456789876543212345678987654321,
  0.123456789876543212345678987654321 0.123456789876543212345678987654321)) '),31) t;
t
SRID=4269;POLYGON((0.12345678987654321 0.12345678987654321,0.12345678987654321 0.12345678987654321,0.12345678987654321 0.12345678987654321,0.12345678987654321 0.12345678987654321))
SELECT _st_asewkt(_ST_GeomFromEWKT('SRID=4269;POLYGON((0 0.000035379323451,0.000006466490655 0.000008682268431,0.000026970365057 0.000024413715792,0.000151654188725 0.000034529750537,0.00006579467362 -0.00010449622015,-0.000025454219399 -0.000110606436693,-0.000062701646319 -0.000019388332115,0 0.000035379323451)) '),15.5) t;
ERROR HY000: invalid type given for an argument
select _st_asewkt(_st_geomfromewkb(x'01010000008C10000000000000008056400000000000806640'));
_st_asewkt(_st_geomfromewkb(x'01010000008C10000000000000008056400000000000806640'))
POINT(2.093e-320 5.332997387e-315)
select _st_asewkt(_st_geomfromewkb(x'01010000002669000000000000008066400000000000805640'));
_st_asewkt(_st_geomfromewkb(x'01010000002669000000000000008066400000000000805640'))
POINT(1.32993e-319 5.33817804e-315)
SELECT _st_asewkt(_ST_GeomFromEWKT('SRID=4269;POLYGON((0 0.000035379323451,0.000006466490655 0.000008682268431,0.000026970365057 0.000024413715792,0.000151654188725 0.000034529750537,0.00006579467362 -0.00010449622015,-0.000025454219399 -0.000110606436693,-0.000062701646319 -0.000019388332115,0 0.000035379323451)) '),1) t;
t
SRID=4269;POLYGON((0 0,0 0,0 0,0 0,0 0,0 0,0 0,0 0))
SELECT _st_asewkt(_st_geomfromewkt('srid=4269;point(0.000008682268431 0.000026970365057)'), 3);
_st_asewkt(_st_geomfromewkt('srid=4269;point(0.000008682268431 0.000026970365057)'), 3)
SRID=4269;POINT(0 0)
SELECT _st_asewkt(_ST_GeomFromEWKT('SRID=4269;POLYGON((0 0.000035379323451,0.000006466490655 0.000008682268431,0.000026970365057 0.000024413715792,0.000151654188725 0.000034529750537,0.00006579467362 -0.00010449622015,-0.000025454219399 -0.000110606436693,-0.000062701646319 -0.000019388332115,0 0.000035379323451)) '),4) t;
t
SRID=4269;POLYGON((0 0,0 0,0 0,0.0002 0,0.0001 -0.0001,0 -0.0001,-0.0001 0,0 0))
SELECT _st_asewkt(_ST_GeomFromEWKT('SRID=4269;POLYGON((0 0.000035379323451,0.000006466490655 0.000008682268431,0.000026970365057 0.000024413715792,0.000151654188725 0.000034529750537,0.00006579467362 -0.00010449622015,-0.000025454219399 -0.000110606436693,-0.000062701646319 -0.000019388332115,0 0.000035379323451)) '),7) t;
t
SRID=4269;POLYGON((0 0.0000354,0.0000065 0.0000087,0.000027 0.0000244,0.0001517 0.0000345,0.0000658 -0.0001045,-0.0000255 -0.0001106,-0.0000627 -0.0000194,0 0.0000354))
select _st_asewkt(_st_geomfromewkt('srid=4269;point(1e-15 1e-15)'), 1);
_st_asewkt(_st_geomfromewkt('srid=4269;point(1e-15 1e-15)'), 1)
SRID=4269;POINT(1e-15 1e-15)
select _st_asewkt(_st_geomfromewkt('srid=4269;point(0.1e-15 1e-15)'), 1);
_st_asewkt(_st_geomfromewkt('srid=4269;point(0.1e-15 1e-15)'), 1)
SRID=4269;POINT(1e-16 1e-15)
select _st_asewkt(_st_geomfromewkt('srid=4269;point(1.123456789e-15 1.123456789e-15)'), 1);
_st_asewkt(_st_geomfromewkt('srid=4269;point(1.123456789e-15 1.123456789e-15)'), 1)
SRID=4269;POINT(1.1e-15 1.1e-15)
select _st_asewkt(_st_geomfromewkt('srid=4269;point(1e-6 1e-10)'), 3);
_st_asewkt(_st_geomfromewkt('srid=4269;point(1e-6 1e-10)'), 3)
SRID=4269;POINT(0 1e-10)
select _st_asewkt(_st_geomfromewkt('srid=4269;point(1e-7 1e-10)'));
_st_asewkt(_st_geomfromewkt('srid=4269;point(1e-7 1e-10)'))
SRID=4269;POINT(0.0000001 1e-10)
select _st_asewkt(_st_geomfromewkt('srid=4269;point(7000e-7 1e-10)'),6);
_st_asewkt(_st_geomfromewkt('srid=4269;point(7000e-7 1e-10)'),6)
SRID=4269;POINT(0.0007 1e-10)
select _st_asewkt(_st_geomfromewkt('srid=4269;point(0.7e-7 1e-10)'),8);
_st_asewkt(_st_geomfromewkt('srid=4269;point(0.7e-7 1e-10)'),8)
SRID=4269;POINT(0.00000007 1e-10)
select _st_asewkt(_st_geomfromewkt('point(1.001110000000000000009e-15 1e-16)'));
_st_asewkt(_st_geomfromewkt('point(1.001110000000000000009e-15 1e-16)'))
POINT(1.00111e-15 1e-16)
select _st_asewkt(_st_geomfromewkt('point(1.001110000000000000009e-15 1e-16)'), 3);
_st_asewkt(_st_geomfromewkt('point(1.001110000000000000009e-15 1e-16)'), 3)
POINT(1.001e-15 1e-16)
select _st_asewkt(_st_geomfromewkt('point(1.001110000000000000009e-15 1e-16)'), 2);
_st_asewkt(_st_geomfromewkt('point(1.001110000000000000009e-15 1e-16)'), 2)
POINT(1e-15 1e-16)
select _st_asewkt(_st_geomfromewkt('point(1e-16 1.001410000000000000009e-16)'), 3);
_st_asewkt(_st_geomfromewkt('point(1e-16 1.001410000000000000009e-16)'), 3)
POINT(1e-16 1.001e-16)
select _st_asewkt(_st_geomfromewkt('point(1e-16 1.001510000000000000009e-16)'), 3);
_st_asewkt(_st_geomfromewkt('point(1e-16 1.001510000000000000009e-16)'), 3)
POINT(1e-16 1.002e-16)
select _st_asewkt(st_geomfromtext('point(1 2)',4326,'axis-order=long-lat'));
_st_asewkt(st_geomfromtext('point(1 2)',4326,'axis-order=long-lat'))
SRID=4326;POINT(1 2)
select _st_asewkt(_st_geomfromewkb(_st_asewkb(st_geomfromtext('point(1 1)', 4326))));
_st_asewkt(_st_geomfromewkb(_st_asewkb(st_geomfromtext('point(1 1)', 4326))))
SRID=4326;POINT(1 1)
select st_astext(x'00000000000100000000000000000024C000000000000034C0');
ERROR HY000: Geometry byte string must be little endian.
select st_astext(x'000000000100000000000000000024C000000000000034C0');
ERROR 22023: Invalid GIS data provided to function st_astext.
select st_astext(x'00000001010100000000000000000024C000000000000034C0');
st_astext(x'00000001010100000000000000000024C000000000000034C0')
POINT(-10 -20)
Warnings:
Warning	3548	There's no spatial reference system with SRID 16777216.
select st_astext(x'010100000000000000000024C000000000000034C0');
ERROR HY000: Geometry byte string must be little endian.
select st_astext(x'00000000010200000000000000000024C000000000000034C0');
ERROR 22023: Invalid GIS data provided to function st_astext.
select st_astext(x'00000000010300000000000000000024C000000000000034C0');
ERROR 22023: Invalid GIS data provided to function st_astext.
select st_astext(x'00000000010400000000000000000024C000000000000034C0');
ERROR 22023: Invalid GIS data provided to function st_astext.
select st_astext(x'00000000010500000000000000000024C000000000000034C0');
ERROR 22023: Invalid GIS data provided to function st_astext.
select st_astext(x'00000000010600000000000000000024C000000000000034C0');
ERROR 22023: Invalid GIS data provided to function st_astext.
select st_astext(x'00000000010700000000000000000024C000000000000034C0');
ERROR 22023: Invalid GIS data provided to function st_astext.
select st_astext(x'00000000010100000003000000010100000000000000000024400000000000002440010100000000000000000024C000000000000034C00102000000020000000000000000002E400000000000002E4000000000000034400000000000003440');
ERROR 22023: Invalid GIS data provided to function st_astext.
select st_astext(x'0000000001050000000300000001020000000200000000000000000024400000000000002440000000000000344000000000000034400102000000020000000000000000002E400000000000002E400000000000003E400000000000002E40');
ERROR 22023: Invalid GIS data provided to function st_astext.
SELECT ST_ASTEXT('MULTIPOINT(1 1)');
ERROR HY000: Geometry byte string must be little endian.
SELECT ST_ASWKT('MULTIPOINT(1 1)');
ERROR HY000: Geometry byte string must be little endian.
select st_aswkt('');
ERROR 22023: Invalid GIS data provided to function st_aswkt.
select st_astext('');
ERROR 22023: Invalid GIS data provided to function st_astext.
select st_aswkb('');
ERROR 22023: Invalid GIS data provided to function st_aswkb.
drop table if exists gis_point_and_int_with_spatial_index;
CREATE TABLE gis_point_and_int_with_spatial_index  (fid INTEGER NOT NULL PRIMARY KEY, g POINT NOT NULL SRID 0, a int,  index (a) );
INSERT INTO gis_point_and_int_with_spatial_index VALUES
(101, ST_GEOMFROMTEXT('POINT(10 10)'),1),
(102, ST_GEOMFROMTEXT('point(10 20)'),21),
(103, ST_GEOMFROMTEXT('point(100 20)'),3),
(104, ST_GEOMFROMTEXT('POINT(101 20)'),3);
SELECT ST_AsText(g) FROM gis_point_and_int_with_spatial_index  WHERE ST_AsText(g) LIKE "%point%";
ST_AsText(g)
POINT(10 10)
POINT(10 20)
POINT(100 20)
POINT(101 20)
drop table gis_point_and_int_with_spatial_index;
drop view if exists v;
create or replace view v as select cast(Point(0,0) as Multipoint) a;
select st_astext(v.a) from v;
st_astext(v.a)
MULTIPOINT((0 0))
drop view v;
select st_astext(cast(x'000000000107000000070000000101000000000000000000244000000000000014400102000000020000000000000000002E400000000000002E400000000000003440000000000000344001030000000100000004000000000000000000F03F00000000000000000000000000002440000000000000000000000000000024400000000000002440000000000000F03F000000000000000001040000000200000001010000000000000000000000000000000000000001010000000000000000003440000000000000344001050000000200000001020000000200000000000000000014400000000000002440000000000000144000000000000034400102000000020000000000000000002E4000000000000024400000000000003E400000000000002E4001060000000200000001030000000100000005000000000000000000F03F0000000000000000000000000000244000000000000000000000000000002440000000000000244000000000000000000000000000002440000000000000F03F000000000000000001030000000100000005000000000000000000184000000000000014400000000000001C4000000000000014400000000000001C400000000000001C4000000000000014400000000000001C4000000000000018400000000000001440' as GEOMETRYCOLLECTION));
ERROR 22023: Invalid GIS data provided to function cast_as_geometrycollection.
select st_astext(ST_GeometryFromWKB(x'0103000000020000000500000000000000000034C00000000000002440000000000000544000000000008056C000000000000054C000000000000034C00000000000000000000000000000544000000000000034C00000000000002440',4326,'axis-order=lat-long'));
ERROR 22023: Invalid GIS data provided to function st_geometryfromwkb.
bugfix: 53543670
SELECT ST_AsText(x'0000000001EC0300000600000001E903000000000000000026400000000000003640000000000040534001E903000000000000008040400000000000004640000000000000404001E90300000000000000804B4000000000008050400000000000C05E4001E90300000000000000405340000000000000564000000000000054C001E90300000000000000C0584000000000000026400000000000000000');
ERROR 22023: Invalid GIS data provided to function st_astext.
bugfix: 53520655
select ST_ASTEXT(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0 0.546548564,0 1 1.00000000001,1 87646 0,0 0 0),(0.11 0.11 0.55454545645645,0.12 0.12 0.125121435,0.13 0.13 0.4541,0.11 0.11 1)))'));
ST_ASTEXT(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0 0.546548564,0 1 1.00000000001,1 87646 0,0 0 0),(0.11 0.11 0.55454545645645,0.12 0.12 0.125121435,0.13 0.13 0.4541,0.11 0.11 1)))'))
MULTIPOLYGON Z (((0 0 0.546548564,0 1 1.00000000001,1 87646 0,0 0 0),(0.11 0.11 0.55454545645645,0.12 0.12 0.125121435,0.13 0.13 0.4541,0.11 0.11 1)))
select ST_ASTEXT(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 1 0.546548564,0 1 1.00000000001,1 87646 0,0 0 0),(0.11 0.11 0.55454545645645,0.12 0.12 0.125121435,0.13 0.13 0.4541,0.11 0.11 1)))'));
ERROR 22023: Invalid GIS data provided to function st_geomfromtext.
select ST_ASTEXT(ST_GEOMFROMTEXT('MULTIPOLYGON(((0 1 0.546548564,0 1 1.00000000001,1 87646 0,0 0 0),(0.11 0 0.55454545645645,0.12 0.12 0.125121435,0.13 0.13 0.4541,0.11 0.11 1)))'));
ERROR 22023: Invalid GIS data provided to function st_geomfromtext.
select ST_ASTEXT(ST_GEOMFROMTEXT('POLYGON((0 0 0.546548564,0 1 1.00000000001,1 87646 0,0 0 0))'));
ST_ASTEXT(ST_GEOMFROMTEXT('POLYGON((0 0 0.546548564,0 1 1.00000000001,1 87646 0,0 0 0))'))
POLYGON Z ((0 0 0.546548564,0 1 1.00000000001,1 87646 0,0 0 0))
select ST_ASTEXT(ST_GEOMFROMTEXT('POLYGON((0 1 0.546548564,0 1 1.00000000001,1 87646 0,0 0 0))'));
ERROR 22023: Invalid GIS data provided to function st_geomfromtext.
