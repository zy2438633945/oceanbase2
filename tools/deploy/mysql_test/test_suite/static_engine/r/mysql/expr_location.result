result_format: 4
explain_protocol: 0
set @@ob_enable_plan_cache = 0;
// locate(substr, oristr), instr(oristr, substr)
select locate(null, 'a'), locate('a', null), locate('a', 'a', null);
+-------------------+-------------------+------------------------+
| locate(null, 'a') | locate('a', null) | locate('a', 'a', null) |
+-------------------+-------------------+------------------------+
|              NULL |              NULL |                      0 |
+-------------------+-------------------+------------------------+
select locate('abc', 'a'), instr('abc', 'a');
+--------------------+-------------------+
| locate('abc', 'a') | instr('abc', 'a') |
+--------------------+-------------------+
|                  0 |                 1 |
+--------------------+-------------------+
select locate('a', 'aaaa', 1), locate('a', 'aaaa', 0), locate('a', 'aaaa', -1);
+------------------------+------------------------+-------------------------+
| locate('a', 'aaaa', 1) | locate('a', 'aaaa', 0) | locate('a', 'aaaa', -1) |
+------------------------+------------------------+-------------------------+
|                      1 |                      0 |                       0 |
+------------------------+------------------------+-------------------------+
select locate('a', 'aaaa', '1.9'), locate('a', 'aaaa', '0.9'), locate('a', 'aaaa', '-1.9');
+----------------------------+----------------------------+-----------------------------+
| locate('a', 'aaaa', '1.9') | locate('a', 'aaaa', '0.9') | locate('a', 'aaaa', '-1.9') |
+----------------------------+----------------------------+-----------------------------+
|                          1 |                          0 |                           0 |
+----------------------------+----------------------------+-----------------------------+
Warnings:
Warning	1292	Truncated incorrect INTEGER value: '1.9'
Warning	1292	Truncated incorrect INTEGER value: '0.9'
Warning	1292	Truncated incorrect INTEGER value: '-1.9'
select locate('a', 'aaaa', '1.1'), locate('a', 'aaaa', '0.1'), locate('a', 'aaaa', '-1.1');
+----------------------------+----------------------------+-----------------------------+
| locate('a', 'aaaa', '1.1') | locate('a', 'aaaa', '0.1') | locate('a', 'aaaa', '-1.1') |
+----------------------------+----------------------------+-----------------------------+
|                          1 |                          0 |                           0 |
+----------------------------+----------------------------+-----------------------------+
Warnings:
Warning	1292	Truncated incorrect INTEGER value: '1.1'
Warning	1292	Truncated incorrect INTEGER value: '0.1'
Warning	1292	Truncated incorrect INTEGER value: '-1.1'
select locate('中', 'a中测试', 1);
+--------------------------------+
| locate('中', 'a中测试', 1)     |
+--------------------------------+
|                              2 |
+--------------------------------+
select locate('a', 'abcdabcd', '2.a');
+--------------------------------+
| locate('a', 'abcdabcd', '2.a') |
+--------------------------------+
|                              5 |
+--------------------------------+
Warnings:
Warning	1292	Truncated incorrect INTEGER value: '2.a'
select locate('a', 'abcdabcd', 'a');
+------------------------------+
| locate('a', 'abcdabcd', 'a') |
+------------------------------+
|                            0 |
+------------------------------+
Warnings:
Warning	1292	Truncated incorrect INTEGER value: 'a'
select locate('a', 'abcdabcd', '-2.a');
+---------------------------------+
| locate('a', 'abcdabcd', '-2.a') |
+---------------------------------+
|                               0 |
+---------------------------------+
Warnings:
Warning	1292	Truncated incorrect INTEGER value: '-2.a'
select locate('a', 'a', 10000);
+-------------------------+
| locate('a', 'a', 10000) |
+-------------------------+
|                       0 |
+-------------------------+
select locate('a', 'a', 1000000000000000000000000000000000000000000000000000000000000000);
+------------------------------------------------------------------------------------+
| locate('a', 'a', 1000000000000000000000000000000000000000000000000000000000000000) |
+------------------------------------------------------------------------------------+
|                                                                                  0 |
+------------------------------------------------------------------------------------+

select instr('abc', 'a'), instr('aaaa','a'), instr('a中测试', '中'), instr(null, 'a'), instr('a', null);
+-------------------+-------------------+----------------------------+------------------+------------------+
| instr('abc', 'a') | instr('aaaa','a') | instr('a中测试', '中')     | instr(null, 'a') | instr('a', null) |
+-------------------+-------------------+----------------------------+------------------+------------------+
|                 1 |                 1 |                          2 |             NULL |             NULL |
+-------------------+-------------------+----------------------------+------------------+------------------+

select reverse(''), reverse(null), reverse('你好abc中文'), reverse(12345.123), reverse(null);
+-------------+---------------+----------------------------+--------------------+---------------+
| reverse('') | reverse(null) | reverse('你好abc中文')     | reverse(12345.123) | reverse(null) |
+-------------+---------------+----------------------------+--------------------+---------------+
|             | NULL          | 文中cba好你                | 321.54321          | NULL          |
+-------------+---------------+----------------------------+--------------------+---------------+

drop table if exists t1;
create table t1(c1 bigint unsigned);
insert into t1 values(locate('a','b',9223372036854775808));
select * from t1;
+------+
| c1   |
+------+
|    0 |
+------+
drop table t1;

