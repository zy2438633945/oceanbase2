create database if not exists rtt;
use rtt;
CREATE TABLE if not exists account_mapping (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键', `gmt_create` datetime NOT NULL COMMENT '创建时间', `gmt_modified` datetime NOT NULL COMMENT '修改时间', `user_id` bigint(20) UNSIGNED NOT NULL COMMENT '新帐号的用户ID', `nick` varchar(32) NOT NULL COMMENT '新帐号的NICK', `old_user_id` bigint(20) UNSIGNED NOT NULL COMMENT '旧帐号的用户ID', `old_nick` varchar(32) NOT NULL COMMENT '旧帐号的NICK', `attribute` bigint(20) UNSIGNED NULL COMMENT '扩展字段', `import_relation` tinyint(4) NOT NULL COMMENT '是否导入关系，0-未导入，1-导入', PRIMARY KEY (`id`), KEY `user_id_idx` (`user_id`, `old_user_id`), KEY `old_user_id_idx` (`old_user_id`))  AUTO_INCREMENT = 231 CHARSET = utf8 COMMENT = 'C店分离新老帐号映射';
CREATE TABLE if not exists app_remind_consume (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键', `gmt_create` datetime NOT NULL COMMENT '创建时间', `gmt_modified` datetime NOT NULL COMMENT '修改时间', `user_id` bigint(20) UNSIGNED NOT NULL COMMENT '用户id', `remind_type` int(10) UNSIGNED NULL COMMENT '提醒类型', `read_cnt` bigint(20) UNSIGNED NULL COMMENT '查看提醒数', PRIMARY KEY (`id`), KEY `ind_bac_uid_type` (`user_id`, `remind_type`))  AUTO_INCREMENT = 1228755 CHARSET = utf8 COMMENT = '无线app消息提醒查看记录';
CREATE TABLE if not exists app_user_info (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键', `gmt_create` datetime NOT NULL COMMENT '创建时间', `gmt_modified` datetime NOT NULL COMMENT '修改时间', `user_id` bigint(20) UNSIGNED NOT NULL COMMENT '用户id', `user_nick` varchar(32) NOT NULL COMMENT '用户nick', `remind_cnt` bigint(20) UNSIGNED NULL COMMENT '消息提醒数', PRIMARY KEY (`id`), UNIQUE `uk_aui_uid` (`user_id`))  AUTO_INCREMENT = 226810 CHARSET = utf8 COMMENT = '无线app用户信息';
CREATE TABLE if not exists audit_task (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键', `gmt_create` datetime NOT NULL COMMENT '创建时间', `gmt_modified` datetime NOT NULL COMMENT '修改时间', `user_id` bigint(20) UNSIGNED NOT NULL COMMENT '用户id', `biz_cat` varchar(1024) NOT NULL COMMENT '类目', `settled_amount` bigint(20) NOT NULL COMMENT '入驻需要冻结', `settle_type` tinyint(4) NOT NULL COMMENT '入驻类型', `user_rate` varchar(10) NULL COMMENT '用户平级', `options` bigint(20) UNSIGNED NULL COMMENT '附加字段', `biz_cat_bit` bigint(20) UNSIGNED DEFAULT '0' COMMENT '自己类目映射二进制', `service_amount` bigint(20) NOT NULL COMMENT '服务费', `service_floor_amount` bigint(20) UNSIGNED DEFAULT '0' COMMENT '坑位费', `task_status` tinyint(4) NOT NULL COMMENT '任务状态-1:审核拒绝0:审核中1:审核通过2:已递交审核', `seller_type` tinyint(4) NOT NULL COMMENT '卖家类型', `reason` varchar(512) NULL COMMENT '原因', `file_url` varchar(512) NULL COMMENT '上传审核资料tfs地址', `operator` bigint(20) NULL COMMENT '操作者', `task_type` tinyint(4) NOT NULL COMMENT '任务类型：1新入驻，2修改，3退出', `file_name` varchar(512) NULL COMMENT '上传文件名', `task_dealed` int(11) NOT NULL COMMENT '任务已由卖家处理过-1:任务销毁0:初始1:未处理', `descs` varchar(512) NULL COMMENT '申请描述', `organization` varchar(32) NULL COMMENT '送拍机构，用于审核', `protocol_commission` tinyint(4) DEFAULT '0' COMMENT '拍卖行协议佣金比例', `user_name` varchar(32) NULL COMMENT '联系人姓名', `phone_number` varchar(32) NULL COMMENT '联系电话', `extra` varchar(2000) NULL COMMENT 'json格式的额外信息', PRIMARY KEY (`id`), KEY `ind_use_status` (`user_id`, `task_status`, `gmt_create`))  AUTO_INCREMENT = 6799002 CHARSET = utf8 COMMENT = '卖家入驻审核表';
CREATE TABLE if not exists bid_activity (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键', `gmt_create` datetime NOT NULL COMMENT '创建时间', `gmt_modified` datetime NOT NULL COMMENT '修改时间', `gmt_end` datetime NULL COMMENT '活动结束时间', `extra_property` varchar(2048) NULL COMMENT '扩展属性,key-value结果存储', PRIMARY KEY (`id`))  AUTO_INCREMENT = 22004 CHARSET = utf8 COMMENT = '记录拍卖活动的相关信息';
CREATE TABLE if not exists bid_album (`id` bigint(20) AUTO_INCREMENT NOT NULL COMMENT '自增主键', `biz_cat` varchar(2048) NOT NULL COMMENT '专场主营类目，用于展示',`biz_cat_bit` bigint(20) DEFAULT '0' COMMENT '专场主营类目位，用于检索',`tags` varchar(4096) NULL COMMENT '专场标签，有多个标签时用~分割',`title` varchar(118) NOT NULL COMMENT '专场标题',`banner_path` varchar(118) NOT NULL COMMENT '专场banner tfs路径',`apply_status` tinyint(4) NULL COMMENT '是否接受报名，接受：1，不接受：0',`info` varchar(500) NOT NULL COMMENT '专场资讯tfs路径',`auction_limit` int(11) NOT NULL COMMENT '专场宝贝上限',`gmt_create` datetime NOT NULL COMMENT '记录创建时间',`gmt_modified` datetime NOT NULL COMMENT '记录最后修改时间',`start_time` datetime NULL COMMENT '专场开始时间',`end_time` datetime NULL COMMENT '专场结束时间',`status` tinyint(4) NOT NULL COMMENT '专场状态',`options` bigint(20) DEFAULT '0' NOT NULL COMMENT '保留字段',`creator_id` bigint(20) NOT NULL COMMENT '专场创建者ID',`fail_reason` varchar(2000) NULL COMMENT '专场审核不通过原因',`tiny_desc` varchar(500) NULL COMMENT '描述',`album_id` bigint(20) NOT NULL COMMENT '专场id，唯一键',`features` varchar(2000) NULL COMMENT '专场子专场专用，不是features',`property` varchar(2000) NULL COMMENT '专场属性key：value',`active_link` varchar(250) NULL COMMENT '专场活动链接',`seller_auction_limit` int(11) NULL COMMENT '每个卖家在专场中报名拍品数限制，必须小于auction_limit。只有当apply_status为1时有效',`apply_cnt` int(10) UNSIGNED NULL COMMENT '报名人数',`bid_cnt` int(10) UNSIGNED NULL COMMENT '出价人数',`deal_cnt` int(10) UNSIGNED NULL COMMENT '成交件数',`deal_amount` bigint(20) UNSIGNED NULL COMMENT '成交金额，单位：分',`bidder_cnt` int(10) UNSIGNED NULL COMMENT '出价人次',`mobile_active_link` varchar(256) NULL COMMENT '手机端活动链接',`apply_date` datetime NULL COMMENT '商家提交申请时间',`audit_date` datetime NULL COMMENT '小二审核通过时间',`audit_max_date` datetime NULL COMMENT '小二审核最长时间',`approve_admin` varchar(32) NULL COMMENT '审校通过的小二',`album_type` tinyint(4) DEFAULT '0' COMMENT '专场类型1:同步拍，0 :普通',PRIMARY KEY (`id`),UNIQUE `idx_aid` (`album_id`),KEY `idx_cid` (`creator_id`),KEY `idx_st_ast` (`status`, `apply_status`, `options`),KEY `idx_biz_gmt` (`biz_cat`, `gmt_create`))  AUTO_INCREMENT = 30496 CHARSET = utf8 COMMENT = '拍卖专场信息';
CREATE TABLE if not exists bid_album_cat (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`album_id` bigint(20) NULL COMMENT '专场id',`biz_cat_id` bigint(20) NULL COMMENT '前台类目id',PRIMARY KEY (`id`),KEY `ind_bac_bcid` (`biz_cat_id`),KEY `ind_bac_bcid_alid` (`biz_cat_id`, `album_id`),KEY `ind_bac_alid_bcid` (`album_id`, `biz_cat_id`))  AUTO_INCREMENT = 120858 CHARSET = utf8 COMMENT = '专场和其二级类目的关联表';
CREATE TABLE if not exists bid_album_sort (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`album_id` bigint(20) NOT NULL COMMENT '专场id',`sort` int(11) NOT NULL COMMENT '排序编号',PRIMARY KEY (`id`),UNIQUE `idx_aid` (`album_id`))  AUTO_INCREMENT = 1819 CHARSET = utf8 COMMENT = '首页专场排序表';
CREATE TABLE if not exists bid_auction (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`cycle_id` bigint(20) UNSIGNED DEFAULT '0' NOT NULL COMMENT '拍卖周期id',`item_id` bigint(20) UNSIGNED NOT NULL COMMENT '宝贝id',`buyer_id` bigint(20) UNSIGNED NOT NULL COMMENT '出价者id',`seller_id` bigint(20) UNSIGNED NOT NULL COMMENT '卖家id',`bid_price` bigint(20) UNSIGNED NOT NULL COMMENT '出价金额(分单位)',`bid_time` datetime NOT NULL COMMENT '出价时间',`quantity` int(11) NOT NULL COMMENT '出价数量(默认1)',`bidder_ip` varchar(20) NOT NULL COMMENT '出价者ip',`status` int(11) NOT NULL COMMENT '出价记录状态(默认1)',`options` bigint(20) UNSIGNED NULL COMMENT '按位取与',`biz_order_id` bigint(20) UNSIGNED NULL COMMENT '对应的订单id',`memo` varchar(118) DEFAULT 'NULL' COMMENT '出价宣言',`transform_order_id` bigint(20) UNSIGNED NULL COMMENT '赔付订单号',`alias_name` varchar(32) NULL COMMENT '竞买号',`bid_time_stamp` bigint(20) UNSIGNED NULL COMMENT '出价时间(带毫秒)',`update_time_stamp` bigint(20) UNSIGNED NULL COMMENT '修改时间(带毫秒)',PRIMARY KEY (`id`),KEY `idx_cycid_stu` (`cycle_id`, `status`, `bid_price`, `gmt_create`),KEY `idx_buyerid` (`buyer_id`, `cycle_id`, `bid_price`, `gmt_create`))  AUTO_INCREMENT = 423435126 CHARSET = utf8 COMMENT = '出价记录表-新分表';
CREATE TABLE if not exists bid_auction_message (`id` bigint(20) AUTO_INCREMENT NOT NULL COMMENT '自增主键',`user_id` bigint(20) NOT NULL COMMENT '用户数字id',`outer_id` bigint(20) NOT NULL COMMENT '订阅id，可以是商品cycle_id，专场id，机构id，订单id',`type` tinyint(4) NULL COMMENT '发送的项目类型',`status` tinyint(4) NOT NULL COMMENT '消息状态',`scan_date` datetime NULL COMMENT '触发时间',`gmt_create` datetime NOT NULL COMMENT '记录创建时间',`gmt_modified` datetime NOT NULL COMMENT '记录最后修改时间',`notify_interval` varchar(64) NULL COMMENT '消息发送间隔',`forbid_flag` tinyint(4) DEFAULT '0' COMMENT '标记后不用发送消息',`short_url` varchar(256) NULL COMMENT '消息中的短连接',`title` varchar(256) NULL COMMENT '拍品、专场标题',`start` datetime NULL COMMENT '开始时间',`end` datetime NULL COMMENT '结束时间',`cycle_id` bigint(20) NULL COMMENT '商品id',`foregift` bigint(20) NULL COMMENT '订单保证金金额',PRIMARY KEY (`id`),KEY `idx_message_uss` (`user_id`, `scan_date`, `status`),KEY `idx_message_os` (`outer_id`, `scan_date`, `status`),KEY `idx_message_ss` (`scan_date`, `status`),KEY `idx_bam_uidoid` (`user_id`, `outer_id`, `status`))  AUTO_INCREMENT = 30030803 CHARSET = utf8 COMMENT = '拍卖消息发送表';
CREATE TABLE if not exists bid_bidder_info (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`cycle_id` bigint(20) UNSIGNED DEFAULT '0' NOT NULL COMMENT '拍卖周期id',`buyer_id` bigint(20) UNSIGNED NOT NULL COMMENT '出价者id',`name` varchar(32) NULL COMMENT '出价人姓名',`phone` varchar(32) NULL COMMENT '出价人电话',`address` varchar(256) NULL COMMENT '出家人收货信息',`memo` varchar(256) NULL COMMENT '备注',`options` bigint(20) UNSIGNED NULL COMMENT '标记',`cardno` varchar(128) NULL COMMENT '证件号',PRIMARY KEY (`id`),UNIQUE `uidx_bid_cycle_buyer_id` (`buyer_id`, `cycle_id`),KEY `k_cid` (`cycle_id`))  AUTO_INCREMENT = 229114027 CHARSET = utf8 COMMENT = '拍卖出价者信息表分表';
CREATE TABLE if not exists bid_extra (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`item_id` bigint(20) UNSIGNED NOT NULL COMMENT '分表字段-商品id',`cycle_id` bigint(20) UNSIGNED NOT NULL COMMENT '拍卖周期id',`title` varchar(256) NOT NULL COMMENT '宝贝标题',`auction_starts` datetime NULL COMMENT '拍卖开始时间',`auction_ends` datetime NULL COMMENT '拍卖结束时间',`auction_type` varchar(16) NOT NULL COMMENT '拍卖类型',`bid_status` int(11) NOT NULL COMMENT '当前拍卖状态(0未出价，1出价中，2已生成订单，3失败，4失效)',`features` varchar(2048) NULL COMMENT '拍卖规则等信息',`options` bigint(20) NULL COMMENT '扩展',`attribute_cc` bigint(20) NOT NULL COMMENT '系统标示用',`current_price` bigint(20) NULL COMMENT '当前价格',`reserve_price` bigint(20) NULL COMMENT '保留价',`next_bid` bigint(20) NULL COMMENT '下次最小出价',`user_id` bigint(20) NULL COMMENT '宝贝卖家数字id',`start_price` bigint(20) NULL COMMENT '起拍价',`album_id` bigint(20) NULL COMMENT '专场ID',`album_status` int(11) NULL COMMENT '专场状态',`s_desc` varchar(500) NULL COMMENT '拍品简介',`fail_reason` varchar(2000) NULL COMMENT '报名不通过原因',`biz_cat_bit` bigint(20) NULL COMMENT '前台类目ID',`sort_seq` int(11) DEFAULT '0' COMMENT '宝贝专场内排序',`item_tag` varchar(512) NULL COMMENT '宝贝自己的标记',`hour_forbid` int(11) NULL COMMENT '报名截止时间',`cat_id` bigint(20) NULL COMMENT '后台类目id',`biz_cat_id` bigint(20) NULL COMMENT '前台大类id',`auction_no` varchar(32) NULL COMMENT '拍品编号',`item_type` smallint(6) DEFAULT '0' COMMENT '是否支持线下拍。1:同步拍；0/null：不支持',`master_id` bigint(20) DEFAULT '0' COMMENT '艺术家作者id',`master_name` varchar(32) NULL COMMENT '艺术家作者姓名',`review_status` int(11) DEFAULT '0' COMMENT '小二后台审核状态',PRIMARY KEY (`id`),UNIQUE `uk_bid_extra_iid` (`item_id`),KEY `idx_bid_extra_bstat` (`auction_ends`, `bid_status`),KEY `idx_bid_extra_aid` (`album_id`),KEY `idx_bid_extra_cid` (`cycle_id`),KEY `iex_itemid_review_status` (`item_id`, `review_status`))  AUTO_INCREMENT = 110968002 CHARSET = utf8 COMMENT = '拍卖扩展表-分表';
CREATE TABLE if not exists bid_foregifts (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`foregift_id` bigint(20) UNSIGNED NOT NULL COMMENT '分表字段',`cycle_id` bigint(20) UNSIGNED NOT NULL COMMENT '拍卖周期id',`item_id` bigint(20) UNSIGNED NOT NULL COMMENT '宝贝id',`buyer_id` bigint(20) UNSIGNED NOT NULL COMMENT '出价者id',`seller_id` bigint(20) UNSIGNED NOT NULL COMMENT '卖家id',`account_out` varchar(32) NOT NULL COMMENT '转出支付账户',`amount` bigint(20) NOT NULL COMMENT '冻结金额(分单位)',`type` int(11) NOT NULL COMMENT '押金类型1-冻结 2-解冻 3-转移',`status` int(11) NOT NULL COMMENT '押金状态：0-初始化 1-成功 2-失败',`operator` varchar(32) NULL COMMENT '操作者',`error_code` varchar(118) NULL COMMENT '错误码',`operate_time` datetime NULL COMMENT '操作时间，区分于gmt_modified',`action_time` datetime NULL COMMENT '执行时间，主要给时间程序扫描触发用',`options` bigint(20) UNSIGNED NULL COMMENT '扩展字段，与位',`address_id` bigint(20) UNSIGNED NULL COMMENT '收获地址',`features` varchar(2000) NULL COMMENT 'features',`pre_auth_id` bigint(20) UNSIGNED NULL COMMENT '预授权id',`transform_amont` bigint(20) NULL COMMENT '转移金额单位分)',`unfreeze_amont` bigint(20) NULL COMMENT '解冻金额(单位分)',`alias_name` varchar(32) NULL COMMENT '买家竞拍号',PRIMARY KEY (`id`),UNIQUE `idx_foregift_id` (`foregift_id`),KEY `ind_bid_foregifts_cbid` (`cycle_id`, `buyer_id`, `type`, `status`),KEY `idx_type_status_bid` (`type`, `status`, `buyer_id`),KEY `idx_gc` (`gmt_create`))  AUTO_INCREMENT = 404665344 CHARSET = utf8 COMMENT = '拍卖押金表';
CREATE TABLE if not exists bid_huijin (`id` bigint(20) NOT NULL COMMENT '主键，从汇金回流回来的id',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`user_id` bigint(20) NOT NULL COMMENT '入驻卖家userId',`commission_unpay_amount` bigint(20) NULL COMMENT '大于0，表示卖家欠的佣金',`fee_type` int(11) NULL COMMENT '收费项目：0、交易,1、退款',`quantity` bigint(20) NULL COMMENT '原始总金额',`amount` bigint(20) NULL COMMENT '帐单总金额',`status` int(11) NULL COMMENT '状态：-1、待确认,0、未销账,1、销账成功,2、销账失败,3、合并中,4、部分销账,5、销账订单已生成',`trade_id` bigint(20) NULL COMMENT '交易子订单号',`p_trade_id` bigint(20) NULL COMMENT '交易订单号',PRIMARY KEY (`id`),KEY `user_id` (`user_id`))  CHARSET = utf8 COMMENT = '从汇金回流每个卖家欠的佣金';
CREATE TABLE if not exists bid_proxy (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`cycle_id` bigint(20) UNSIGNED DEFAULT '0' NOT NULL COMMENT '分表字段-拍卖周期id',`buyer_id` bigint(20) UNSIGNED NOT NULL COMMENT '出价者id',`proxy_bid` bigint(20) UNSIGNED NOT NULL COMMENT '代理价（精确到分）',`status` int(10) UNSIGNED NOT NULL COMMENT '代理价状态，1=领先中，2=被超',PRIMARY KEY (`id`),KEY `idx_bid_cycle_id` (`cycle_id`))  AUTO_INCREMENT = 31551828 CHARSET = utf8 COMMENT = '代理出价表分表';
CREATE TABLE if not exists bid_punish (`itemid` bigint(20) UNSIGNED NOT NULL COMMENT '商品id',`modifier` varchar(60) NULL COMMENT '更改人',`punishtype` int(11) NOT NULL COMMENT '：处罚类型  1屏蔽，0 撤銷 其它暂时全部降权',`effecttime` bigint(20) UNSIGNED NULL COMMENT '生效开始时间',`gmtmodified` bigint(20) UNSIGNED NULL COMMENT '最后修改时间',`expiredtime` bigint(20) UNSIGNED NULL COMMENT '生效结束时间',`gmt_create` datetime NULL COMMENT '创建时间',`punishreason` int(11) NOT NULL COMMENT '处罚原因',PRIMARY KEY (`itemid`))  CHARSET = utf8 COMMENT = '拍卖商品处罚表';
CREATE TABLE if not exists bid_seller_file (`seller_id` bigint(20) NOT NULL COMMENT '卖家id',`order_succ_count` bigint(20) DEFAULT '0' NOT NULL COMMENT '成交笔数',`order_succ_amount` bigint(20) DEFAULT '0' NOT NULL COMMENT '成交金额',`pass_auction_count` bigint(20) DEFAULT '0' NOT NULL COMMENT '通过审核拍品数',`create_album_count` bigint(20) DEFAULT '0' NOT NULL COMMENT '创建的专场数',`succ_auction_count` bigint(20) DEFAULT '0' NOT NULL COMMENT '成交拍品',`gmt_create` datetime NOT NULL COMMENT '记录创建时间',`gmt_modified` datetime NOT NULL COMMENT '记录最后修改时间',`end_auction_count` int(11) DEFAULT '0' NOT NULL COMMENT 'pmp拍卖周期结束的拍品数',PRIMARY KEY (`seller_id`))  CHARSET = utf8 COMMENT = '卖家档案';
CREATE TABLE if not exists bid_seller_message (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`type` int(11) NOT NULL COMMENT '消息类型',`title` varchar(64) NOT NULL COMMENT '消息的标题',`template` varchar(2048) NULL COMMENT '消息的模板',`action_url` varchar(1024) NULL COMMENT '消息的链接',`user_id` bigint(20) UNSIGNED NOT NULL COMMENT '消息用户的id',PRIMARY KEY (`id`))  AUTO_INCREMENT = 70 CHARSET = utf8 COMMENT = '买家消息表';
CREATE TABLE if not exists bid_settle_cat (`id` bigint(20) AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`cat_id` bigint(20) NOT NULL COMMENT '前台类目id',`pcat_id` bigint(20) NULL COMMENT '前台父类目id',`level` int(11) NULL COMMENT '类目层级',`settled_amount` bigint(20) NULL COMMENT '入驻保证金额',`trade_rate` int(11) NULL COMMENT '交易佣金费率',`status` tinyint(4) NULL COMMENT '状态',`operator` bigint(20) NULL COMMENT '操作者',`name` varchar(256) NULL COMMENT '类目名称',`recommend_word`varchar(100)COMMENT '类目关键词',`stop_status` tinyint(4) NULL COMMENT '暂停招商状态 0为未暂停，1暂停',`stop_time` datetime NULL COMMENT '暂停招商起始时间',PRIMARY KEY (`id`),KEY `ind_cat_id_status` (`cat_id`, `status`),KEY `ind_status_level` (`status`, `level`))  AUTO_INCREMENT = 342 CHARSET = utf8 COMMENT = '拍卖入驻类目信息表';
CREATE TABLE if not exists bid_settler (`id` bigint(20) AUTO_INCREMENT NOT NULL COMMENT '主键ID',`user_id` bigint(20) NOT NULL COMMENT '用户ID',`nick` varchar(256) NULL COMMENT '用户昵称',`settle_type` tinyint(4) NOT NULL COMMENT '入驻类型，个人入驻：1，商家入驻：2',`seller_type` int(11) NULL COMMENT '卖家类型',`settle_status` tinyint(4) NOT NULL COMMENT '入驻状态',`user_rate` varchar(10) NULL COMMENT '用户评级',`tasking` int(11) NULL COMMENT '审核任务id',`settled_amount` bigint(20) NOT NULL COMMENT '入驻保证金额度',`settled_actual_amount` bigint(20) NOT NULL COMMENT '实际的入驻保证金金额',`service_amount` bigint(20) NOT NULL COMMENT '预冻结服务保证金额度',`service_actual_amount` bigint(20) NOT NULL COMMENT '预冻结服务保证金下限额度',`organization` varchar(32) NULL COMMENT '送拍机构，目前用于首页专场list中显示',`gmt_create` datetime NOT NULL COMMENT '记录创建时间',`gmt_modified` datetime NOT NULL COMMENT '记录最后修改时间',`contact` varchar(32) NULL COMMENT '联系人',`contact_number` varchar(32) NULL COMMENT '联系电话',`organization_desc` varchar(512) NULL COMMENT '机构介绍',`location_id` int(10) UNSIGNED NULL COMMENT '所在地地区码ID',PRIMARY KEY (`id`),KEY `ind_user_settle_status` (`settle_status`, `user_id`, `gmt_create`),KEY `ind_org` (`organization`))  AUTO_INCREMENT = 3433 CHARSET = utf8 COMMENT = '卖家入驻信息表';
CREATE TABLE if not exists bid_trade (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`order_id` bigint(20) UNSIGNED NOT NULL COMMENT '订单id',`source_type` tinyint(4) NULL COMMENT '拍品来源类型0:大众1:珍品2:司法(暂无)',`pay_status` tinyint(4) NULL COMMENT '交易状态0:待付1:已付2:超时关闭3:卖家关闭4:退款',`charge_status` tinyint(4) NULL COMMENT '收费状态0:初始1:扣佣2:退佣',`cycle_id` bigint(20) UNSIGNED NULL COMMENT '拍卖周期',`item_id` bigint(20) UNSIGNED NULL COMMENT '拍品id',`buyer_id` bigint(20) UNSIGNED NULL COMMENT '买家id',`seller_id` bigint(20) UNSIGNED NULL COMMENT '卖家id',`category_id` bigint(20) UNSIGNED NULL COMMENT '类目id',`cat_id` bigint(20) UNSIGNED NULL COMMENT '交易佣金计费前台类目',`amount` bigint(20) UNSIGNED NULL COMMENT '订单金额',`fee` bigint(20) UNSIGNED NULL COMMENT '交易佣金',PRIMARY KEY (`id`),KEY `idx_ORDER_ID` (`order_id`))  AUTO_INCREMENT = 6887752 CHARSET = utf8 COMMENT = '拍卖交易信息跟踪表';
CREATE TABLE if not exists bid_user_extra (`id` bigint(20) AUTO_INCREMENT NOT NULL COMMENT '自增主键',`user_id` bigint(20) NOT NULL COMMENT '用户数字id',`mobile_phone` varchar(32) NULL COMMENT '用户订阅手机号',`email` varchar(64) NULL COMMENT '用户订阅邮箱',`notify_type` varchar(64) NULL COMMENT '消息通知方式',`notify_interval` varchar(64) NULL COMMENT '消息通知间隔',`mail_sub_items` varchar(128) NULL COMMENT '邮件订阅主题',`gmt_create` datetime NOT NULL COMMENT '记录创建时间',`gmt_modified` datetime NOT NULL COMMENT '记录最后修改时间',`check_code` int(11) NULL COMMENT '手机6位验证码',`expire_time` datetime NULL COMMENT '验证码失效时间',`nick` varchar(256) NULL COMMENT '用户昵称',`update_phone` varchar(32) NULL COMMENT '更新的手机号码',`flag` int(11) DEFAULT '0' COMMENT '标识用户是否第一次订阅',PRIMARY KEY (`id`),KEY `idx_extra_user_id` (`user_id`),KEY `ind_bue_pho` (`mobile_phone`))  AUTO_INCREMENT = 4899245 CHARSET = utf8 COMMENT = '拍卖用户信息的用户维度表';
CREATE TABLE if not exists bid_venue (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`name` varchar(64) NULL COMMENT '会场名称',`status` tinyint(4) DEFAULT '0' NOT NULL COMMENT '会场状态。0：即将开拍；1：正在竞拍；2：竞拍结束',`start_time` datetime NULL COMMENT '会场的开始时间',`end_time` datetime NULL COMMENT '会场的结束时间',`attribute_cc` bigint(20) DEFAULT '0' NOT NULL COMMENT '乐观锁',`current_zhibo` varchar(1024) NULL COMMENT '记录会场直播信息，keyvalue结构',PRIMARY KEY (`id`),KEY `idx_bid_venue_start` (`start_time`),KEY `idx_bid_venue_end` (`end_time`))  AUTO_INCREMENT = 136002 CHARSET = utf8 COMMENT = '同步拍会场信息';
CREATE TABLE if not exists black_list (`id` bigint(20) AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`user_id` bigint(20) NOT NULL COMMENT '黑名单用户id',`nick` varchar(128) NULL COMMENT '黑名单用户昵称',`status` tinyint(4) NOT NULL COMMENT '用户状态，0激活，1删除',`start_time` datetime NOT NULL COMMENT '加入黑名单时间',`end_time` datetime NOT NULL COMMENT '释放时间',`app_id` int(11) NOT NULL COMMENT '所属业务范围',`count` int(11) NOT NULL COMMENT '加入黑名单次数',`operator_id` bigint(20) NOT NULL COMMENT '操作人id',`complainant` varchar(128) NULL COMMENT '投诉卖家id',`reason` varchar(1024) NULL COMMENT '加入黑名单原因',PRIMARY KEY (`id`),KEY `k_uid_aid` (`user_id`),KEY `k_nick` (`nick`),KEY `k_apid` (`app_id`))  AUTO_INCREMENT = 538 CHARSET = utf8 COMMENT = '拍卖黑名单表';
CREATE TABLE if not exists cat_day_plan (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`week_day` int(11) NOT NULL COMMENT '当type为0时值为:周几,为1时为当天时间yyyyMMdd',`group_id` bigint(20) UNSIGNED NOT NULL COMMENT '组别ID,categroy_group_base表的主键',`month_plan_id` bigint(20) UNSIGNED NOT NULL COMMENT '月规划ID,cat_month_plan表的主键',`type` int(11) DEFAULT '0' NOT NULL COMMENT '类型: 0默认,1自定义',`divide_album_num` int(11) DEFAULT '1' NOT NULL COMMENT '当天时间段的场次数量',`divide_name` varchar(64) NOT NULL COMMENT '当天分段名称',`divide_start_time` time NOT NULL COMMENT '当天分段开始时间',`continue_time` int(11) NOT NULL COMMENT '持续时间：分钟',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',PRIMARY KEY (`id`),KEY `idx_group_month_week` (`group_id`, `month_plan_id`, `week_day`))  AUTO_INCREMENT = 1797 CHARSET = utf8 COMMENT = '分组类目日规划';
CREATE TABLE if not exists cat_month_plan (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`seller_album_num` int(11) DEFAULT '1' NOT NULL COMMENT '商家每月专场数',`audit_cycle` int(11) DEFAULT '7' NOT NULL COMMENT '最长审核周期',`pre_cycle_min` int(11) DEFAULT '3' NOT NULL COMMENT '最短预展周期',`enroll_cycle` int(11) DEFAULT '30' NOT NULL COMMENT '最长可报名时间',`group_id` bigint(20) UNSIGNED NOT NULL COMMENT '组别ID,categroy_group_base表的主键',`start_date` datetime NOT NULL COMMENT '月规则生效的开始时间,没特殊情况是每月第一天',`end_date` datetime NOT NULL COMMENT '月规则生效的结束时间,没特殊情况是每月最后一天',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`status` tinyint(4) DEFAULT '0' NOT NULL COMMENT '规划状态（0：初始化；1生效）',`last_date` datetime NULL COMMENT '小二指定的可报名最晚时间',PRIMARY KEY (`id`),KEY `idx_group_id_time` (`group_id`, `start_date`))  AUTO_INCREMENT = 170 CHARSET = utf8 COMMENT = '分组类目月规划';
CREATE TABLE if not exists category_group_base (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`group_name` varchar(64) NOT NULL COMMENT '组别名称',`owner` varchar(128) NOT NULL COMMENT '应对的管理小二',`start_date` datetime NOT NULL COMMENT '规则生效的开始时间',`end_date` datetime NOT NULL COMMENT '规则生效的结束时间',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',PRIMARY KEY (`id`),KEY `idx_end_date` (`end_date`))  AUTO_INCREMENT = 56 CHARSET = utf8 COMMENT = '类目分组基础信息表';
CREATE TABLE if not exists category_group_detail (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`biz_cat_name` varchar(64) NOT NULL COMMENT '一级前台类目名',`biz_cat_id` bigint(20) UNSIGNED NOT NULL COMMENT '一级前台类目ID',`cat_name` varchar(64) NULL COMMENT '前台二级类目名。 典当行之类的可以为空',`cat_id` bigint(20) UNSIGNED NULL COMMENT '前台二级类目ID。 典当行之类的可以为空',`group_id` bigint(20) UNSIGNED NOT NULL COMMENT '组别名称,categroy_group_base表的主键',`type` int(11) NOT NULL COMMENT '类型: 合作商家,拍卖行,产权交易所,公益等',`start_date` datetime NOT NULL COMMENT '规则生效的开始时间,同base表要联动修改',`end_date` datetime NOT NULL COMMENT '规则生效的结束时间,同base表要联动修改',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',PRIMARY KEY (`id`),KEY `idx_cat_id_endtime` (`cat_id`, `end_date`),KEY `idx_endtime_group_id` (`group_id`, `end_date`))  AUTO_INCREMENT = 117 CHARSET = utf8 COMMENT = '每个分组所对应该的类目列表';
CREATE TABLE if not exists cc_bid_album (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`album_id` bigint(20) UNSIGNED NOT NULL COMMENT '处罚的专场id',`album_status` int(11) NOT NULL COMMENT '专场的状态',`status` int(11) DEFAULT '0' NOT NULL COMMENT '处理的状态',`cc_id` bigint(20) UNSIGNED NOT NULL COMMENT '处罚记录的id',`user_id` bigint(20) UNSIGNED NOT NULL COMMENT '处罚卖家的id',`album_creator_id` bigint(20) UNSIGNED NOT NULL COMMENT '专场的创建者的id',`album_type` int(11) NOT NULL COMMENT '专场类型 1自己创建专场 2 他人创建的专场',PRIMARY KEY (`id`),UNIQUE `uni_album_index` (`cc_id`, `album_id`))  AUTO_INCREMENT = 191 CHARSET = utf8 COMMENT = '处罚的专场信息';
CREATE TABLE if not exists cc_bid_extra (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`item_id` bigint(20) UNSIGNED NOT NULL COMMENT '处罚的宝贝id',`status` int(11) NOT NULL COMMENT '处理的状态',`cc_id` bigint(20) UNSIGNED NOT NULL COMMENT '处罚记录的id',`user_id` bigint(20) UNSIGNED NOT NULL COMMENT '处罚卖家的id',`auction_user_id` bigint(20) UNSIGNED NOT NULL COMMENT '商品的id  有可能商品是被连带处罚',`system` int(11) NOT NULL COMMENT '拍品所处的系统 0 老系统 1新系统',`album_id` bigint(20) UNSIGNED NOT NULL COMMENT '专场的id',`album_type` int(11) NOT NULL COMMENT '专场的类型 1 联合专场 2 自营专场',`foregifts_scan` int(11) DEFAULT '0' NOT NULL COMMENT '尝试扫描解冻保证金记录表',PRIMARY KEY (`id`),UNIQUE `uni_extra` (`cc_id`, `item_id`),KEY `foregift_scan_index` (`status`, `foregifts_scan`))  AUTO_INCREMENT = 399 CHARSET = utf8 COMMENT = '处罚的宝贝记录';
CREATE TABLE if not exists cc_bid_foregift (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`cc_id` bigint(20) UNSIGNED NOT NULL COMMENT '处罚记录id',`item_id` bigint(20) UNSIGNED NOT NULL COMMENT '宝贝id',`buyer_id` bigint(20) UNSIGNED NOT NULL COMMENT '买家id',`system` int(11) NOT NULL COMMENT '拍品所处的系统 0 老系统 1新系统',`send_message` int(11) DEFAULT '0' NOT NULL COMMENT '发送消息 0 未发送 1 已发送',`foregift_id` bigint(20) UNSIGNED NOT NULL COMMENT '保证金id',`cycle_id` bigint(20) UNSIGNED NOT NULL COMMENT '拍卖周期id',`foregift_status` int(11) DEFAULT '0' NOT NULL COMMENT '0 表示未解冻 1表示解冻',PRIMARY KEY (`id`),KEY `foregift_index` (`foregift_id`),KEY `message_index` (`send_message`),KEY `foregift_status_index` (`foregift_status`))  AUTO_INCREMENT = 16 CHARSET = utf8 COMMENT = '因处罚需要解冻保证金的记录';
CREATE TABLE if not exists cc_seller_reason (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`name` varchar(1024) NOT NULL COMMENT '处罚的原因',`day_size` int(11) DEFAULT '0' NOT NULL COMMENT '处罚的天数',`type` int(11) DEFAULT '1' NOT NULL COMMENT '处罚的类型',`value` int(11) NOT NULL COMMENT '处罚的分值',`template` varchar(1024) NOT NULL COMMENT '处罚原因模板',`need_source` int(11) DEFAULT '0' NOT NULL COMMENT '是否需要设置处罚原因',PRIMARY KEY (`id`))  AUTO_INCREMENT = 9 CHARSET = utf8 COMMENT = '卖家处罚的原因配置表';
CREATE TABLE if not exists cc_seller_record (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`user_id` bigint(20) UNSIGNED NOT NULL COMMENT '卖家用户id',`opt_id` bigint(20) UNSIGNED NOT NULL COMMENT '处罚创建者的id',`start_date` date NOT NULL COMMENT '处罚的开始日期',`end_date` date NOT NULL COMMENT '处罚的结束日期',`reason_id` bigint(20) UNSIGNED NOT NULL COMMENT '处罚的原因id',`excute_date` date NOT NULL COMMENT '执行处罚的日期',`cc_desc` varchar(1024) NULL COMMENT '处罚的描述',`status` int(11) DEFAULT '1' NOT NULL COMMENT '处罚的状态',`cc_comment` varchar(1024) NULL COMMENT '处罚的备注',`excute_status` int(11) DEFAULT '0' NOT NULL COMMENT '处罚执行的状态',`source_id` bigint(20) UNSIGNED DEFAULT '0' COMMENT '出问题的专场或者拍品',`source_type` int(11) DEFAULT '0' COMMENT '0表示是拍品 1表示是拍品',`cc_unit` int(11) DEFAULT '0' NOT NULL COMMENT '处罚分数',PRIMARY KEY (`id`),KEY `user_id_index` (`user_id`),KEY `time_index` (`gmt_create`))  AUTO_INCREMENT = 79 CHARSET = utf8 COMMENT = '卖家处罚记录';
CREATE TABLE if not exists foregifts_unfreeze_fail (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`unique_id` varchar(32) NOT NULL COMMENT '唯一标记，值为：押金来源-押金表的id',`foregifts_id` bigint(20) UNSIGNED NOT NULL COMMENT '押金表的id',`foregifts_from` tinyint(4) NOT NULL COMMENT '押金来源-0:pmp,1:司法',`cycle_id` bigint(20) UNSIGNED NULL COMMENT '拍卖周期id',`item_id` bigint(20) UNSIGNED NOT NULL COMMENT '宝贝id',`buyer_id` bigint(20) UNSIGNED NOT NULL COMMENT '买家用户id',`seller_id` bigint(20) UNSIGNED NOT NULL COMMENT '卖家id',`account_out` varchar(32) NULL COMMENT '转出支付宝账号',`amount` bigint(20) UNSIGNED NULL COMMENT '冻结金额',`type` tinyint(4) NOT NULL COMMENT '押金类型1-冻结 2-解冻 3-转移',`status` tinyint(4) NOT NULL COMMENT '押金状态：0-初始化 1-成功 2-失败',`operator` varchar(64) NULL COMMENT '操作者',`error_code` varchar(64) NULL COMMENT '错误码',`alias_name` varchar(32) NULL COMMENT '用户别名-司法有值',`foregifts_gmt_create` datetime NULL COMMENT '原记录的创建时间',`foregifts_gmt_modified` datetime NULL COMMENT '原纪录的修改时间',`contact` varchar(256) NULL COMMENT '联系地址|联系电话-司法有值',`pause_flag` tinyint(4) NULL COMMENT '中止标记-司法',`features` varchar(512) NULL COMMENT '扩展字段',`operate_time` datetime NULL COMMENT '操作时间，区分于gmt_modified-pmp有值',`action_time` datetime NULL COMMENT '执行时间，主要给时间程序扫描触发用-pmp有值',`options` bigint(20) UNSIGNED NULL COMMENT '扩展字段，与位-pmp有值',`address_id` bigint(20) UNSIGNED NULL COMMENT '收获地址-pmp有值',`admin_status` tinyint(4) DEFAULT '0' COMMENT '后台解决状态',`admin_user_id` bigint(20) UNSIGNED DEFAULT '0' COMMENT '后台解决的小二',`admin_desc` varchar(512) NULL COMMENT '后台小二的备注',PRIMARY KEY (`id`),UNIQUE `unique_id_unique` (`unique_id`),KEY `idx_admin_stat` (`admin_status`))  AUTO_INCREMENT = 688419 CHARSET = utf8 COMMENT = '保证金解冻异常的记录统计';
CREATE TABLE if not exists master_authorize (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`master_id` bigint(20) UNSIGNED NOT NULL COMMENT '大师档案的id',`user_id` bigint(20) UNSIGNED NOT NULL COMMENT '商家用户的id',`authorize_start` date NOT NULL COMMENT '授权开始日期',`authorize_end` date NOT NULL COMMENT '授权结束日期',`status` smallint(6) NOT NULL COMMENT '状态 1表示有效 0 取消',`authorize_type` smallint(6) NOT NULL COMMENT '授权类型 1 编辑权限  0 使用权限',`cat_id` bigint(20) UNSIGNED NOT NULL COMMENT '大师的类目id',PRIMARY KEY (`id`),UNIQUE `uni_index` (`user_id`, `master_id`),KEY `master_index` (`master_id`, `status`))  AUTO_INCREMENT = 122 CHARSET = utf8 COMMENT = '鉴定师授权';
CREATE TABLE if not exists master_document (`id` bigint(20) UNSIGNED NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`name` varchar(128) NULL COMMENT '名称',`title` varchar(128) NULL COMMENT '档案师的名称',`cat_id` bigint(20) UNSIGNED NULL COMMENT '类目id',`cat_level2_id` varchar(512) NOT NULL COMMENT '二级类目id',`editor_id` bigint(20) UNSIGNED NULL COMMENT '编辑商家id',`status` int(11) NOT NULL COMMENT '状态',`sex` bigint(20) UNSIGNED DEFAULT '0' NOT NULL COMMENT '性别 0 男 1 女',`birthday` date NULL COMMENT '生日',`image_url` varchar(1024) NOT NULL COMMENT '图像地址',`video_url` varchar(1024) NULL COMMENT '视频地址',`describtion` varchar(1024) NOT NULL COMMENT '描述',`year_book` varchar(8192) NULL COMMENT '艺术家年表',`awards` varchar(8192) NULL COMMENT '获奖记录',`master_piece` varchar(8192) NULL COMMENT '代表作',`version` int(11) DEFAULT '1' NOT NULL COMMENT '版本号',`video_cover_url` varchar(1024) NULL COMMENT '视频转换地址',`reject_reson` varchar(1024) NULL COMMENT '决绝原因',PRIMARY KEY (`id`),KEY `cat_master_index` (`cat_id`))  CHARSET = utf8 COMMENT = '大师档案';
CREATE TABLE if not exists master_document_edit (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`name` varchar(128) NOT NULL COMMENT '名称',`title` varchar(128) NULL COMMENT '档案师的名称',`cat_id` bigint(20) NULL COMMENT '类目id',`editor_id` bigint(20) NULL COMMENT '编辑商家id',`status` int(11) DEFAULT '1' NOT NULL COMMENT '状态',`cat_level2_id` varchar(512) DEFAULT '0' NOT NULL COMMENT '二级类目id 有多个，以[,]分隔',`sex` int(11) DEFAULT '0' NOT NULL COMMENT '性别 0 男 1 女',`birthday` date NULL COMMENT '生日',`image_url` varchar(1024) NULL COMMENT '图像地址',`describtion` varchar(1024) NULL COMMENT '描述',`video_url` varchar(1024) NULL COMMENT '视频地址',`year_book` varchar(8192) NULL COMMENT '艺术家年表',`awards` varchar(8192) NULL COMMENT '获奖记录',`master_piece` varchar(8192) NULL COMMENT '代表作',`version` int(11) DEFAULT '1' COMMENT '版本号',`video_cover_url` varchar(1024) NULL COMMENT '视频转换地址',`reject_reson` varchar(1024) NULL COMMENT '拒绝理由',PRIMARY KEY (`id`),KEY `cat_index` (`cat_id`),KEY `status_index` (`status`))  AUTO_INCREMENT = 121 CHARSET = utf8 COMMENT = '大师档案信息编辑表';
CREATE TABLE if not exists offline_rule_config (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`type` bigint(20) NOT NULL COMMENT '规则类型，1拍品，2专场，3类目',`deal_mode` tinyint(4) NOT NULL COMMENT '交易模式，1线下交易',`target_id` bigint(20) NOT NULL COMMENT '外键id，拍品id，专场id，类目id',PRIMARY KEY (`id`),UNIQUE `uk_type_target_id` (`type`, `target_id`))  AUTO_INCREMENT = 25 CHARSET = utf8 COMMENT = '下线大额交易配置表';
CREATE TABLE if not exists pmp_auctions_extra (`auction_id` bigint(20) NOT NULL COMMENT '瀹濊礉鐨勬暟瀛梚d鍚宎a琛ㄧ殑auction_id',`title` varchar(256) NOT NULL COMMENT '瀹濊礉鏍囬1,2,4,6,7,8,11,56,68,89,435,4523',`user_id` varchar(20) NOT NULL COMMENT '鍗栧1,2,4,6,7,8,11,56,68,89,435,4523鏁板瓧id',`user_nick` varchar(32) NOT NULL COMMENT '鍗栧1,2,4,6,7,8,11,56,68,89,435,4523鏄电О',`category` bigint(20) NOT NULL COMMENT '绫荤洰',`auction_type` varchar(2) NOT NULL COMMENT '鎷嶅崠绫诲瀷',`auction_from` varchar(2) NOT NULL COMMENT '鎷嶅崠鏉ユ簮锛氫富绔檃 浜屾墜b pmpc 鍙告硶d',`city` varchar(30) NULL COMMENT '鎵1,2,4,6,7,8,11,56,68,89,435,4523湪鍩庡競鍖哄煙鐮1,2,4,6,7,8,11,56,68,89,435,4523鍚嶇О鐨勬柟寮',`quantity` int(11) DEFAULT '0',`gmt_create` datetime NULL COMMENT '璁板綍鍒涘缓鏃堕棿',`gmt_modified` datetime NOT NULL COMMENT '璁板綍鏈1,2,4,6,7,8,11,56,68,89,435,4523悗淇1,2,4,6,7,8,11,56,68,89,435,4523敼鏃堕棿',`auction_status` tinyint(4) NOT NULL COMMENT '瀹濊礉鐘舵1,2,4,6,7,8,11,56,68,89,435,4523',`pict_url` varchar(256) NULL COMMENT '涓诲浘璺1,2,4,6,7,8,11,56,68,89,435,4523緞',`attribute` varchar(1024) NULL COMMENT '鎵╁睍瀛楁1,2,4,6,7,8,11,56,68,89,435,4523浠1,2,4,6,7,8,11,56,68,89,435,4523ey:value,key:value,鐨勬柟寮忓嚭鐜',`property` varchar(2048) NULL COMMENT '瀹濊礉灞炴1,2,4,6,7,8,11,56,68,89,435,4523',`ends` datetime NULL COMMENT '鎷嶅崠鐨勭粨鏉熸棩鏈',`minimum_bid` bigint(20) NULL COMMENT '璧锋媿浠',`incrementnum` bigint(20) NULL COMMENT '鍔犱环骞呭害',`currentprice` bigint(20) NULL COMMENT '褰撳墠浠',`totalcnt` int(11) NULL COMMENT '鍑轰环娆℃暟',`auctionscore` int(11) NULL COMMENT '瀹濊礉璇勫垎',`starts` datetime NULL COMMENT '拍品开始时间',`desc_path` varchar(256) NULL COMMENT '详情描述',`delay_times` int(11) NULL COMMENT '拍品延时次数',`delay_secends` bigint(20) NULL COMMENT '拍品整体延时时间-秒为单位',`buyer_qualification` varchar(2048) NULL COMMENT '资产竞买人资格',`type` tinyint(4) DEFAULT '0' COMMENT '入驻类型:0=司法,11=资产政府类,12=资产商业类,13=拍卖行',PRIMARY KEY (`auction_id`),KEY `idx_gm` (`gmt_modified`),KEY `idx_gc` (`gmt_create`),KEY `idx_afrom_astat` (`auction_from`, `auction_status`))  CHARSET = utf8 COMMENT = 'auction dump表';
CREATE TABLE if not exists pmp_seller_group_score (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`group_id` bigint(20) UNSIGNED NOT NULL COMMENT '分组ID',`group_name` varchar(64) NULL COMMENT '分组名称',`user_id` bigint(20) UNSIGNED NOT NULL COMMENT '卖家ID',`score` bigint(20) UNSIGNED DEFAULT '0' COMMENT '总得分（-1分表示没分数）',`rank` int(11) DEFAULT '0' COMMENT '分组内卖家得分排名（9999表示没分数的排名）',`gmv` bigint(20) UNSIGNED NULL COMMENT '买家真实成交GMV金额（元）',`price` bigint(20) UNSIGNED NULL COMMENT '单价（元）',`cj_rate` bigint(20) UNSIGNED NULL COMMENT '成交率',`wq_jr_num` int(11) NULL COMMENT '最近90天小二介入量',`wq_num` int(11) NULL COMMENT '最近90天维权量',`log_dt` datetime NOT NULL COMMENT '上传日期（日）',`is_have` int(11) DEFAULT '0' COMMENT '是否当天有专场（1-有，0-无）',PRIMARY KEY (`id`),KEY `idx_group_user_id_date` (`group_id`, `user_id`, `log_dt`))  AUTO_INCREMENT = 132910 CHARSET = utf8 COMMENT = '珍品卖家跑分云梯数据回流表';
CREATE TABLE if not exists seller_apply_info (`id` bigint(20) AUTO_INCREMENT NOT NULL COMMENT '主键',`user_id` bigint(20) NOT NULL COMMENT '卖家ID',`album_id` bigint(20) NOT NULL COMMENT '专场ID',`group_id` bigint(20) NOT NULL COMMENT '基础分组类目表组ID',`day_plan_id` bigint(20) NOT NULL COMMENT '日场次规划ID',`status` smallint(6) DEFAULT '0' NOT NULL COMMENT '专场使用状态 1:已经使用,-1:被小二拒绝, -2:撤回  (负数均为无效状态)',`type` smallint(6) DEFAULT '0' NOT NULL COMMENT '0:普通 1 奖励',`category_id` bigint(20) NOT NULL COMMENT '专场前台二级类目',`use_day` datetime NOT NULL COMMENT '报名对应的专场的时间(开拍时间)',`gmt_create` datetime NOT NULL COMMENT '生成时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`month_plan_id` bigint(20) DEFAULT '0' COMMENT '月规划主键',PRIMARY KEY (`id`),KEY `idx_group_user_day_status` (`group_id`, `user_id`, `use_day`, `status`),KEY `idx_group_day_status_type` (`group_id`, `use_day`, `status`, `type`),KEY `idx_plan_day_status` (`day_plan_id`, `use_day`, `status`),KEY `idx_album_id_status` (`album_id`, `status`),KEY `idx_group_id_month_id` (`group_id`, `month_plan_id`, `status`))  AUTO_INCREMENT = 11741 CHARSET = utf8 COMMENT = '卖家专场报名记录表';
CREATE TABLE if not exists seller_reward (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`user_id` bigint(20) UNSIGNED NOT NULL COMMENT '商家ID',`user_nick` varchar(64) NOT NULL COMMENT '商家旺旺',`owner` varchar(32) NOT NULL COMMENT '操作的小二',`group_id` bigint(20) UNSIGNED NOT NULL COMMENT '组别ID,categroy_group_base表的主键',`type` int(11) DEFAULT '1' NOT NULL COMMENT '1:奖励2:惩罚',`status` int(11) DEFAULT '1' NOT NULL COMMENT '记录状态1:正常 -1:删除',`num` int(11) DEFAULT '0' NOT NULL COMMENT '奖励/惩罚的场次数',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`effective_start` datetime NOT NULL COMMENT '生效开始时间',`effective_end` datetime NOT NULL COMMENT '生效结束时间',`memo` varchar(512) NULL COMMENT '备注',PRIMARY KEY (`id`),UNIQUE `u_idx_nick_id_month` (`user_nick`, `group_id`, `type`, `effective_end`))  AUTO_INCREMENT = 468 CHARSET = utf8 COMMENT = '专场奖励处罚管理';
CREATE TABLE if not exists service_free (`id` bigint(20) AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`object_type` int(11) NOT NULL COMMENT '对象类型：卖家、类目、拍品、专场等，可以扩展',`object_id` bigint(20) NOT NULL COMMENT '对象id，对应对象类型',`free_type` int(11) NOT NULL COMMENT '免费类型：全免0,免佣金1,免坑位费2',`starts` datetime NOT NULL COMMENT '开始时间',`end` datetime NULL COMMENT '结束时间',`operator` bigint(20) NOT NULL COMMENT '操作人id',`is_deleted` tinyint(4) NOT NULL COMMENT '逻辑删除',PRIMARY KEY (`id`),KEY `idx_otype_oid` (`object_type`, `object_id`))  AUTO_INCREMENT = 429 CHARSET = utf8 COMMENT = '拍卖技术服务免费卖家、类目';
CREATE TABLE if not exists settler_cat (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`user_id` bigint(20) NOT NULL COMMENT '用户id',`cat_id` bigint(20) NOT NULL COMMENT '类目id',`target_id` bigint(20) NULL COMMENT '对应的入驻卖家表id',`settled_amount` bigint(20) NULL COMMENT '类目对应的入驻费用',`status` int(11) NULL COMMENT '用户入驻这个类目的状态',`level` int(11) NULL COMMENT '类目所属层级',PRIMARY KEY (`id`),KEY `ind_user_target_id` (`user_id`, `target_id`))  AUTO_INCREMENT = 6327 CHARSET = utf8 COMMENT = '入驻用户和其类目的映射表';
CREATE TABLE if not exists settler_user_foregift (`id` bigint(20) AUTO_INCREMENT NOT NULL COMMENT '自增主键',`user_id` bigint(20) NOT NULL COMMENT '用户数字id',`operate_type` tinyint(4) NOT NULL COMMENT '操作类型',`status` tinyint(4) NOT NULL COMMENT '状态',`amount` bigint(20) NOT NULL COMMENT '操作金额',`type` tinyint(4) NOT NULL COMMENT '保证金业务类型',`gmt_create` datetime NOT NULL COMMENT '记录创建时间',`gmt_modified` datetime NOT NULL COMMENT '记录最后修改时间',`memo` varchar(118) NULL COMMENT '缘由',`cycle_id` bigint(20) NULL COMMENT '对应的拍品',`target_id` bigint(20) NULL COMMENT '业务id',PRIMARY KEY (`id`),KEY `idx_uid_cid` (`user_id`, `cycle_id`),KEY `idx_uid_tid` (`user_id`, `target_id`))  AUTO_INCREMENT = 404694061 CHARSET = utf8 COMMENT = '用户保证金业务明细';
CREATE TABLE if not exists ta_appraiser (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`appraiser_id` bigint(20) UNSIGNED NOT NULL COMMENT '鉴定师user_id',`name` varchar(32) NULL COMMENT '鉴定师名字',`title` varchar(32) NULL COMMENT '职称',`org_name` varchar(64) NULL COMMENT '机构名称',`org_id` bigint(20) UNSIGNED NULL COMMENT '所属机构的机构user_id',`rank` int(11) DEFAULT '0' NOT NULL COMMENT '排名，行业排名，类目排名',`cat_id` bigint(20) UNSIGNED NOT NULL COMMENT '鉴定师对应二级类目id',`online` tinyint(4) DEFAULT '0' NOT NULL COMMENT '休息状态，是否在线（0 online ,1 offline）',`image_url` varchar(256) NULL COMMENT '头像图片',`appraiser_no` varchar(16) NULL COMMENT '鉴定师编号-机构内标示用',`city_division` int(11) NULL COMMENT '鉴定师所在区域码-二手车匹配',`position` varchar(512) NULL COMMENT '鉴定师地理位置，省 市/区 街道',`number_1` bigint(20) UNSIGNED NULL COMMENT '备用字段',`char_1` varchar(512) NULL COMMENT '备用字段',`province_division` int(11) NULL COMMENT '鉴定师所在省份码-二手车匹配',PRIMARY KEY (`id`),KEY `idx_appraiserid` (`appraiser_id`),KEY `idx_cid_line_division` (`cat_id`, `online`, `city_division`),KEY `idx_orgid` (`org_id`))  AUTO_INCREMENT = 57 CHARSET = utf8 COMMENT = '鉴定师表';
CREATE TABLE if not exists ta_push_task (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`appraiser_id` bigint(20) UNSIGNED NOT NULL COMMENT '鉴定师id',`push_number` int(11) NULL COMMENT '任务个数',`batch_id` varchar(64) NULL COMMENT '任务批次号',`status` int(11) DEFAULT '0' NOT NULL COMMENT '状态 0 为未发送，1 为已经发送',PRIMARY KEY (`id`),KEY `idx_bid_status` (`batch_id`, `status`))  AUTO_INCREMENT = 5971 CHARSET = utf8 COMMENT = '鉴宝发送push消息任务表';
CREATE TABLE if not exists ta_record (`id` bigint(20) UNSIGNED NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`treasure_id` bigint(20) UNSIGNED NOT NULL COMMENT '宝贝id',`appraiser_id` bigint(20) UNSIGNED NOT NULL COMMENT '分配到鉴定师id',`status` tinyint(4) DEFAULT '0' NOT NULL COMMENT '任务状态0 初始化, 1 已提交,2 已出鉴定宝贝',`submit_time` datetime NOT NULL COMMENT '用户提交宝贝申请时间',`distribution` tinyint(4) DEFAULT '0' NOT NULL COMMENT '是否是系统分配或被抢单（系统分配1 抢单2）',`report_id` bigint(20) UNSIGNED NULL COMMENT '报告表id',`version` tinyint(4) DEFAULT '0' NOT NULL COMMENT '乐观锁',`number_1` bigint(20) UNSIGNED NULL COMMENT '备用字段',`char_1` bigint(20) UNSIGNED NULL COMMENT '备用字段',`cat_id` bigint(20) UNSIGNED NULL COMMENT '类目id',PRIMARY KEY (`id`),KEY `idx_aid_status` (`status`, `appraiser_id`),KEY `idx_aid_tid` (`appraiser_id`, `treasure_id`))  CHARSET = utf8 COMMENT = '鉴定记录表';
CREATE TABLE if not exists ta_task (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`treasure_id` bigint(20) UNSIGNED DEFAULT '0' NOT NULL COMMENT '宝贝id',`cat_id` bigint(20) UNSIGNED DEFAULT '0' NOT NULL COMMENT '二级类目',`status` tinyint(4) DEFAULT '0' NOT NULL COMMENT '任务状态(0未分配,1 已分配)',`submit_time` datetime NOT NULL COMMENT '用户提交宝贝时间',`division_id` int(11) NULL COMMENT '用户城市码',`version` tinyint(4) DEFAULT '0' NOT NULL COMMENT '乐观锁',`number_1` bigint(20) UNSIGNED NULL COMMENT '备用字段',`char_1` bigint(20) UNSIGNED NULL COMMENT '备用字段',`rand` int(11) DEFAULT '50' NOT NULL COMMENT '随机数',PRIMARY KEY (`id`),UNIQUE `idx_tid` (`treasure_id`),KEY `idx_cid_status_create_rand` (`cat_id`, `status`, `division_id`, `submit_time`))  AUTO_INCREMENT = 1613 CHARSET = utf8 COMMENT = '鉴定师任务分配扫描表';
CREATE TABLE if not exists tbp_message (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`venue_id` bigint(20) UNSIGNED NOT NULL COMMENT '会场ID',`album_id` bigint(20) UNSIGNED NOT NULL COMMENT '专场ID',`item_id` bigint(20) UNSIGNED NULL COMMENT '拍品ID，ID为0或NULL时，表示专场消息',`message` varchar(2048) NOT NULL COMMENT '消息内容',`message_time_stamp` bigint(20) UNSIGNED NOT NULL COMMENT '消息的时间戳',`message_type` int(11) NOT NULL COMMENT '消息类型, 0 普通公告， 其他见TbpMessageTypeEnum',`message_params` varchar(1024) NULL COMMENT '消息的相关附带参数',PRIMARY KEY (`id`),KEY `pk_albumid` (`album_id`, `message_time_stamp`),KEY `pk_itemid` (`item_id`, `message_time_stamp`))  AUTO_INCREMENT = 1276 CHARSET = utf8 COMMENT = '同步拍公告消息表';
CREATE TABLE if not exists top_follow_org (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`user_id` bigint(20) UNSIGNED NOT NULL COMMENT '用户ID',`org_id` bigint(20) UNSIGNED NOT NULL COMMENT '置顶的机构ID',`top_status` tinyint(4) NOT NULL COMMENT '置顶状态，0禁止置顶，1置顶',PRIMARY KEY (`id`),UNIQUE `uk_user_org` (`user_id`, `org_id`),KEY `pk_user_id` (`user_id`, `top_status`))  AUTO_INCREMENT = 63490 CHARSET = utf8 COMMENT = '订阅的动态需要被置顶的机构表';
CREATE TABLE if not exists album_bid_extra (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`item_id` bigint(20) UNSIGNED NOT NULL COMMENT '商品id',`cycle_id` bigint(20) UNSIGNED NOT NULL COMMENT '拍卖周期id',`title` varchar(256) NOT NULL COMMENT '宝贝标题',`auction_starts` datetime NULL COMMENT '拍卖开始时间',`auction_ends` datetime NULL COMMENT '拍卖结束时间',`auction_type` varchar(16) NOT NULL COMMENT '拍卖类型',`bid_status` int(11) NOT NULL COMMENT '当前拍卖状态(0未出价，1出价中，2已生成订单，3失败，4失效)',`features` varchar(2048) NULL COMMENT '拍卖规则等信息',`options` bigint(20) NULL COMMENT '扩展',`attribute_cc` bigint(20) NOT NULL COMMENT '系统标示用',`current_price` bigint(20) NULL COMMENT '当前价格',`reserve_price` bigint(20) NULL COMMENT '保留价',`next_bid` bigint(20) NULL COMMENT '下次最小出价',`user_id` bigint(20) NULL COMMENT '宝贝卖家数字id',`start_price` bigint(20) NULL COMMENT '起拍价',`album_id` bigint(20) NULL COMMENT '分表字段-专场ID',`album_status` int(11) NULL COMMENT '专场状态',`s_desc` varchar(500) NULL COMMENT '拍品简介',`fail_reason` varchar(2000) NULL COMMENT '报名不通过原因',`biz_cat_bit` bigint(20) NULL COMMENT '前台类目ID',`sort_seq` int(11) DEFAULT '0' COMMENT '宝贝专场内排序',`item_tag` varchar(512) NULL COMMENT '宝贝自己的标记',`hour_forbid` int(11) NULL COMMENT '报名截止时间',`cat_id` bigint(20) NULL COMMENT '后台类目id',`biz_cat_id` bigint(20) NULL COMMENT '前台大类id',`auction_no` varchar(32) NULL COMMENT '拍品编号',`item_type` tinyint(4) DEFAULT '0' COMMENT '是否支持线下拍。1:同步点拍；0/null：不支持',`master_id` bigint(20) DEFAULT '0' COMMENT '艺术家作者id',`master_name` varchar(32) NULL COMMENT '艺术家作者姓名',`review_status` int(11) DEFAULT '0' COMMENT '小二后台审核状态',PRIMARY KEY (`id`),UNIQUE `uk_bid_extra_iid` (`item_id`),KEY `idx_bid_extra_bstat` (`auction_ends`, `bid_status`),KEY `idx_bid_extra_aid` (`album_id`),KEY `idx_albumid_review_status` (`album_id`, `review_status`))  AUTO_INCREMENT = 110964886 CHARSET = utf8 COMMENT = '拍卖扩展表-分表';
CREATE TABLE if not exists bid_extra_desc_template (`id` bigint(20) AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`name` varchar(256) NOT NULL COMMENT '模板名称',`biz_cat_id` bigint(20) NULL COMMENT '对应的类目ID',`template`varchar(100)NOT NULL COMMENT '模板内容',`demo`varchar(100)COMMENT '模板示例',`placeholder` varchar(512) NULL COMMENT '模板占位符，逗号分隔',`creator` bigint(20) NOT NULL COMMENT '创建者ID',PRIMARY KEY (`id`))  AUTO_INCREMENT =200 CHARSET = utf8 COMMENT = '同步拍拍品描述模板';
CREATE TABLE if not exists bid_process_detail (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`obj_id` bigint(20) UNSIGNED NOT NULL COMMENT '分表字段，流水操作的对象ID，可以是保证金ID，也可以是拍品ID等',`sponsor` varchar(50) NOT NULL COMMENT '记录发起人',`sponsor_id` bigint(20) UNSIGNED NOT NULL COMMENT '发起人ID',`type` tinyint(4) NOT NULL COMMENT '流水类型，如保证金：1等',`name` varchar(128) NOT NULL COMMENT '流水名称，如type=1，name=解冻',`info` varchar(2048) NULL COMMENT '流水的附加信息',`name_id` bigint(20) UNSIGNED NOT NULL COMMENT '流水名称ID，如type=1，name=解冻，name_id=1',PRIMARY KEY (`id`),KEY `obj_id_idx` (`obj_id`))  AUTO_INCREMENT = 70363 CHARSET = utf8 COMMENT = '拍卖一些关键信息的处理流水，如保证金等等';
CREATE TABLE if not exists buyer_bid_foregifts (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`buyer_id` bigint(20) UNSIGNED NOT NULL COMMENT '买家id，分表字段',`foregift_id` bigint(20) UNSIGNED NOT NULL COMMENT '保证金id',`cycle_id` bigint(20) UNSIGNED NOT NULL COMMENT '拍卖周期id',`item_id` bigint(20) UNSIGNED NOT NULL COMMENT '宝贝id',`seller_id` bigint(20) UNSIGNED NOT NULL COMMENT '卖家id',`account_out` varchar(32) NOT NULL COMMENT '转出支付账户',`amount` bigint(20) NOT NULL COMMENT '冻结金额(分单位)',`type` int(11) NOT NULL COMMENT '押金类型1-冻结 2-解冻 3-转移',`status` int(11) NOT NULL COMMENT '押金状态：0-初始化 1-成功 2-失败',`operator` varchar(32) NULL COMMENT '操作者',`error_code` varchar(118) NULL COMMENT '错误码',`operate_time` datetime NULL COMMENT '操作时间，区分于gmt_modified',`action_time` datetime NULL COMMENT '执行时间，主要给时间程序扫描触发用',`options` bigint(20) UNSIGNED NULL COMMENT '扩展字段，与位',`address_id` bigint(20) UNSIGNED NULL COMMENT '收获地址',`features` varchar(2000) NULL COMMENT 'features',`pre_auth_id` bigint(20) UNSIGNED NULL COMMENT '预授权id',`transform_amont` bigint(20) NULL COMMENT '转移金额单位分)',`unfreeze_amont` bigint(20) NULL COMMENT '解冻金额(单位分)',`alias_name` varchar(32) NULL COMMENT '买家竞买号',PRIMARY KEY (`id`),UNIQUE `idx_foregift_id` (`foregift_id`),KEY `idx_atime` (`action_time`),KEY `idx_cid` (`cycle_id`),KEY `idx_buyer_status_type` (`buyer_id`, `type`, `status`, `cycle_id`),KEY `idx_gc` (`gmt_create`))  AUTO_INCREMENT = 404672113 CHARSET = utf8 COMMENT = '买家保证金冗余表';
CREATE TABLE if not exists cycle_bid_foregifts (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`cycle_id` bigint(20) UNSIGNED NOT NULL COMMENT '分表字段',`foregift_id` bigint(20) UNSIGNED NOT NULL COMMENT '保证金id',`item_id` bigint(20) UNSIGNED NOT NULL COMMENT '宝贝id',`buyer_id` bigint(20) UNSIGNED NOT NULL COMMENT '出价者id',`seller_id` bigint(20) UNSIGNED NOT NULL COMMENT '卖家id',`account_out` varchar(32) NOT NULL COMMENT '转出支付账户',`amount` bigint(20) NOT NULL COMMENT '冻结金额(分单位)',`type` int(11) NOT NULL COMMENT '押金类型1-冻结 2-解冻 3-转移',`status` int(11) NOT NULL COMMENT '押金状态：0-初始化 1-成功 2-失败',`operator` varchar(32) NULL COMMENT '操作者',`error_code` varchar(118) NULL COMMENT '错误码',`operate_time` datetime NULL COMMENT '操作时间',`action_time` datetime NULL COMMENT '执行时间，主要给时间程序扫描触发用',`options` bigint(20) UNSIGNED NULL COMMENT '扩展字段，与位',`address_id` bigint(20) UNSIGNED NULL COMMENT '收获地址',`features` varchar(2000) NULL COMMENT 'features',`pre_auth_id` bigint(20) UNSIGNED NULL COMMENT '预授权id',`transform_amont` bigint(20) NULL COMMENT '转移金额（单位分）',`unfreeze_amont` bigint(20) NULL COMMENT '解冻金额（单位分）',`alias_name` varchar(32) NULL COMMENT '买家竞买号',PRIMARY KEY (`id`),UNIQUE `idx_foregift_id` (`foregift_id`),KEY `idx_cid_status_type` (`cycle_id`, `status`, `type`))  AUTO_INCREMENT = 404690077 CHARSET = utf8 COMMENT = '拍品周期维度保证金冗余表结构';
CREATE TABLE if not exists review_check_config (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`name` varchar(30) NOT NULL COMMENT '检查项目的名字',`category_id` bigint(20) UNSIGNED NOT NULL COMMENT '适用的类目id',`scene` bigint(20) UNSIGNED NOT NULL COMMENT '适用场景(1:商品 2：专场)',`nick` varchar(30) NOT NULL COMMENT '最后更新人',`status` int(11) NOT NULL COMMENT '状态',PRIMARY KEY (`id`),KEY `category_id` (`category_id`, `scene`))  AUTO_INCREMENT = 387 CHARSET = utf8 COMMENT = '审核时检查的条目';
CREATE TABLE if not exists review_reason_config (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`reason` varchar(300) NOT NULL COMMENT '理由',`nick` varchar(20) NOT NULL COMMENT '最后更新人',`check_id` bigint(20) UNSIGNED NOT NULL COMMENT 'review_check表主键id',`status` int(11) NOT NULL COMMENT '状态',PRIMARY KEY (`id`),KEY `check_id_index` (`check_id`))  AUTO_INCREMENT = 1725 CHARSET = utf8 COMMENT = '审核原因表';
CREATE TABLE if not exists review_record (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`album_id` bigint(20) UNSIGNED NULL COMMENT '专场id',`item_id` bigint(20) UNSIGNED NULL COMMENT '商品id',`memo` varchar(5000) NULL COMMENT '额外需补充的备注信息',`auther_id` bigint(20) UNSIGNED NULL COMMENT '操作者id',`auther` varchar(30) NULL COMMENT '操作者名',`role_type` int(11) NULL COMMENT '审核者的身份1：小二，2同业委',`action` int(11) NULL COMMENT '具体的执行动作（1.商品审核通过,2.商品审核不通过,3.专场审核通过,4.专场审核不通过-退回,5.专场审核不通过-拒绝,6.同业委提意见）',`current_number` int(11) NOT NULL COMMENT '每次提交专场审核都会加1',PRIMARY KEY (`id`),KEY `album_id_index` (`album_id`, `auther_id`, `role_type`, `action`),KEY `item_id_index` (`item_id`, `role_type`, `auther_id`))  AUTO_INCREMENT = 3280 CHARSET = utf8 COMMENT = '拍卖拍品/专场审核表';
CREATE TABLE if not exists review_result_relation (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`record_id` bigint(20) UNSIGNED NOT NULL COMMENT '审核记录表主键id',`check_id` bigint(20) UNSIGNED NOT NULL COMMENT '审核项表主键id',`reason_id` bigint(20) UNSIGNED NULL COMMENT '审核原因表主键id',`ext_memo` varchar(5000) NULL COMMENT '额外的审核补充内容',`cat_id` bigint(20) UNSIGNED NOT NULL COMMENT '二级类目id（冗余）',`seller_id` bigint(20) UNSIGNED NOT NULL COMMENT '卖家id（冗余）',PRIMARY KEY (`id`),KEY `record_id_index` (`record_id`, `seller_id`),KEY `idx_check_id` (`check_id`),KEY `idx_reason_id` (`reason_id`),KEY `cat_id` (`cat_id`))  AUTO_INCREMENT = 237 CHARSET = utf8 COMMENT = '审核记录和审核结果的关联表';
CREATE TABLE if not exists seller_bid_extra (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`item_id` bigint(20) UNSIGNED NOT NULL COMMENT '商品id',`cycle_id` bigint(20) UNSIGNED NOT NULL COMMENT '拍卖周期id',`title` varchar(256) NOT NULL COMMENT '宝贝标题',`auction_starts` datetime NULL COMMENT '拍卖开始时间',`auction_ends` datetime NULL COMMENT '拍卖结束时间',`auction_type` varchar(16) NOT NULL COMMENT '拍卖类型',`bid_status` int(11) NOT NULL COMMENT '当前拍卖状态(0未出价，1出价中，2已生成订单，3失败，4失效)',`features` varchar(2048) NULL COMMENT '拍卖规则等信息',`options` bigint(20) NULL COMMENT '扩展',`attribute_cc` bigint(20) NOT NULL COMMENT '系统标示用',`current_price` bigint(20) NULL COMMENT '当前价格',`reserve_price` bigint(20) NULL COMMENT '保留价',`next_bid` bigint(20) NULL COMMENT '下次最小出价',`user_id` bigint(20) NULL COMMENT '分表字段-宝贝卖家数字id',`start_price` bigint(20) NULL COMMENT '起拍价',`album_id` bigint(20) NULL COMMENT '专场ID',`album_status` int(11) NULL COMMENT '专场状态',`s_desc` varchar(500) NULL COMMENT '拍品简介',`fail_reason` varchar(2000) NULL COMMENT '报名不通过原因',`biz_cat_bit` bigint(20) NULL COMMENT '前台类目ID',`sort_seq` int(11) DEFAULT '0' COMMENT '宝贝专场内排序',`item_tag` varchar(512) NULL COMMENT '宝贝自己的标记',`hour_forbid` int(11) NULL COMMENT '报名截止时间',`cat_id` bigint(20) NULL COMMENT '后台类目id',`biz_cat_id` bigint(20) NULL COMMENT '前台大类id',`auction_no` varchar(32) NULL COMMENT '拍品编号',`item_type` tinyint(4) DEFAULT '0' COMMENT '是否支持线下拍。1:同步拍商品；0/null：不支持',`master_id` bigint(20) DEFAULT '0' COMMENT '艺术家作者id',`master_name` varchar(32) NULL COMMENT '艺术家作者姓名',`review_status` int(11) DEFAULT '0' COMMENT '小二后台审核状态',PRIMARY KEY (`id`),UNIQUE `uk_bid_extra_iid` (`item_id`),KEY `idx_bid_extra_uid` (`user_id`),KEY `idx_bid_extra_aid` (`album_id`),KEY `idx_bid_extra_bstat` (`auction_ends`, `bid_status`),KEY `idx_userid_review_status` (`user_id`, `review_status`))  AUTO_INCREMENT = 110947059 CHARSET = utf8 COMMENT = '拍卖扩展表-seller分表';
CREATE TABLE if not exists ta_report (`id` bigint(20) NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`treasure_id` bigint(20) NOT NULL COMMENT '宝贝id',`cat_id` bigint(20) NOT NULL COMMENT '宝贝的二级类目id',`pic` varchar(256) NULL COMMENT '宝贝第一张图地址',`result_type` tinyint(4) DEFAULT '0' NOT NULL COMMENT '结果类型 1 真 2 假 3需要进一步鉴定 4 无法鉴定 5汽车完成线下鉴定　',`user_id` bigint(20) NOT NULL COMMENT '宝贝提交人id',`appraiser_id` bigint(20) NOT NULL COMMENT '鉴定师id',`name` varchar(32) NULL COMMENT '用户名字',`tel` varchar(32) NULL COMMENT '用户电话',`reason` varchar(256) NULL COMMENT '模板中选择的驳回理由',`advise` varchar(1024) NULL COMMENT '鉴定师建议或者驳回的详细说明',`invite` tinyint(4) DEFAULT '0' NOT NULL COMMENT '邀约：0不邀约 1 发起邀约 2 用户拒绝 3 用户接受',`praise` tinyint(4) DEFAULT '0' NOT NULL COMMENT '报告赞或不赞 1 赞 2 不赞 0 未评价',`vin` varchar(64) NULL COMMENT '二手车唯一vin码',`number_1` bigint(20) NULL COMMENT '备用字段',`char_1` varchar(512) NULL COMMENT '备用字段',`prop_title` varchar(1024) NULL COMMENT '报告宝贝的属性标题集合',PRIMARY KEY (`id`),KEY `idx_aid_tid` (`treasure_id`, `appraiser_id`),KEY `idx_aid_invite` (`appraiser_id`, `invite`))  CHARSET = utf8 COMMENT = '鉴定报告表';
CREATE TABLE if not exists ta_treasure (`id` bigint(20) UNSIGNED NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`user_id` bigint(20) UNSIGNED NOT NULL COMMENT '宝贝提交用户id',`cat_id` bigint(20) UNSIGNED NOT NULL COMMENT '宝贝前台二级类目',`record_id` bigint(20) UNSIGNED DEFAULT '0' COMMENT '记录表关联id',`pics` varchar(2048) NULL COMMENT '宝贝图片集合，用分号分开',`status` tinyint(4) DEFAULT '0' NOT NULL COMMENT '宝贝状态集合 0 初始化, 1 保存草稿,10,已提交 ,20已分配,30 已出鉴定报告',`props` varchar(1024) NULL COMMENT '属性key:value 集合',`complete_info` varchar(1024) NULL COMMENT '用户地区码-城市级别(二手车不为空)',`longitude` double NULL COMMENT '用户位置经度',`latitude` double NULL COMMENT '用户位置纬度',`position` varchar(512) NULL COMMENT '客户端传来的用户街道位置信息',`division_id` int(11) NULL COMMENT '用户地区码-城市级别',`version` tinyint(4) DEFAULT '0' NOT NULL COMMENT '乐观锁',`distribution` tinyint(4) DEFAULT '0' NOT NULL COMMENT '1 被抢评 2 系统分配',`number_1` bigint(20) UNSIGNED NULL COMMENT '备用字段',`char_1` varchar(512) NULL COMMENT '备用字段',`submit_time` datetime NOT NULL COMMENT '用户确认提交的时间',`name` varchar(32) NULL COMMENT '用户姓名-冗余邀约',`tel` varchar(32) NULL COMMENT '用户联系方式-冗余邀约',`reports` varchar(512) NULL COMMENT '鉴定报告id和鉴定师id组合',`prop_ids` varchar(512) NULL COMMENT '宝贝的对应全网属性id,逗号分隔',PRIMARY KEY (`id`),KEY `idx_uid` (`user_id`))  CHARSET = utf8 COMMENT = '鉴定宝贝表';
CREATE TABLE if not exists timeout_records (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`biz_id` bigint(20) UNSIGNED NOT NULL COMMENT '分表字段：业务ID',`biz_type` int(10) UNSIGNED NOT NULL COMMENT '业务类型',`status` tinyint(4) NOT NULL COMMENT '执行状态:-1 未生效 0待处理 1暂停 2已处理 3取消',`action_time` datetime NULL COMMENT '执行时间',`try_count` int(10) UNSIGNED DEFAULT '0' COMMENT '尝试次数',`failed_count` int(10) UNSIGNED DEFAULT '0' COMMENT '失败次数',`features` varchar(1024) NULL COMMENT '业务存储额外信息',`version` bigint(20) UNSIGNED DEFAULT '0' NOT NULL COMMENT '记录版本号',PRIMARY KEY (`id`),KEY `bizid_biztype_version_idx` (`biz_id`, `biz_type`, `version`),KEY `status_actiontime_idx` (`status`, `action_time`))  AUTO_INCREMENT = 192 CHARSET = utf8 COMMENT = '拍卖超时中心';
CREATE TABLE if not exists user_ta_treasure (`id` bigint(20) NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`user_id` bigint(20) NOT NULL COMMENT '宝贝提交用户id',`cat_id` bigint(20) NOT NULL COMMENT '宝贝前台二级类目',`pics` varchar(2048) NULL COMMENT '宝贝图片集合，用分号分开',`status` tinyint(4) DEFAULT '0' NOT NULL COMMENT '宝贝状态集合 0 初始化, 1 保存草稿,10,已提交 ,20已分配,30 已出鉴定报告',`props` varchar(1024) NULL COMMENT '属性key:value 集合',`complete_info` varchar(1024) NULL COMMENT '宝贝完善信息',`longitude` double NULL COMMENT '用户位置经度',`latitude` double NULL COMMENT '用户位置纬度',`position` varchar(512) NULL COMMENT '客户端传来的用户街道位置信息',`division_id` int(11) NULL COMMENT '用户地区码-城市级别(二手车不为空)',`version` tinyint(4) DEFAULT '0' NOT NULL COMMENT '乐观锁',`distribution` tinyint(4) DEFAULT '0' NOT NULL COMMENT '1 被抢评 2 系统分配',`number_1` bigint(20) NULL COMMENT '备用字段',`char_1` varchar(512) NULL COMMENT '备用字段',`name` varchar(32) NULL COMMENT '用户姓名-冗余邀约',`tel` varchar(32) NULL COMMENT '用户电话-冗余邀约',`reports` varchar(512) NULL COMMENT '鉴定报告id和鉴定师id组合',`prop_ids` varchar(512) NULL COMMENT '宝贝的对应全网属性id,逗号分隔',`record_id` bigint(20) UNSIGNED DEFAULT '0' COMMENT '记录表对应id',`submit_time` datetime NOT NULL COMMENT '用户确认提交时间',PRIMARY KEY (`id`),KEY `idx_uid_status_stime` (`user_id`, `status`, `submit_time`))  CHARSET = utf8 COMMENT = '鉴定宝贝表-用户id分表';
CREATE TABLE if not exists user_whitelist (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`type` tinyint(4) NOT NULL COMMENT '业务类型，1为定向招商用户',`ref_id` bigint(20) NOT NULL COMMENT '引用的关联id',`user_id` bigint(20) NOT NULL COMMENT '关联的白名单用户id',`operator` bigint(20) NOT NULL COMMENT '添加该白名单的操作者',PRIMARY KEY (`id`),KEY `ind_user_id_ref_id` (`user_id`, `ref_id`))  AUTO_INCREMENT = 33 CHARSET = utf8 COMMENT = '根据各种业务需求配置的用户白名单';
CREATE TABLE if not exists bid_brokerage_cat (`id` bigint(20) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT '主键',`gmt_create` datetime NOT NULL COMMENT '创建时间',`gmt_modified` datetime NOT NULL COMMENT '修改时间',`cat_id` bigint(20) UNSIGNED NULL COMMENT '前台类目id',`pcat_id` bigint(20) UNSIGNED NOT NULL COMMENT '前台父类目id',`level` int(11) NOT NULL COMMENT '类目层级',`status` int(11) NOT NULL COMMENT '状态',`operator` varchar(64) NOT NULL COMMENT '操作者',`start` datetime NOT NULL COMMENT '生效开始时间',`end` datetime NOT NULL COMMENT '生效结束时间',`error` varchar(1024) NULL COMMENT '错误信息',`trade_rate` decimal(12, 5) NOT NULL COMMENT '交易佣金费率',`biz_type` int(11) NOT NULL COMMENT '业务类型',`brokerage_id` bigint(20) UNSIGNED NULL COMMENT '佣金id，从汇金系统同步过来',PRIMARY KEY (`id`),KEY `cat_index` (`cat_id`, `pcat_id`, `level`),KEY `idx_cat_id_biz_type` (`cat_id`, `biz_type`),KEY `idx_ca_pc_bi` (`cat_id`, `pcat_id`, `biz_type`))  AUTO_INCREMENT = 9 CHARSET = utf8 COMMENT = '珍品拍卖佣金设置表';
